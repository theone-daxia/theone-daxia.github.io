[{"content":"é—®é¢˜åˆ—è¡¨ mac ç³»ç»Ÿå‡çº§åï¼Œä½¿ç”¨ homebrew æŠ¥é”™ï¼Œæç¤º \u0026ldquo;brew-core is a shallow clone\u0026rdquo;\nâœ ~ brew install docker Error: homebrew-core is a shallow clone. To `brew update`, first run: git -C /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core fetch --unshallow This command may take a few minutes to run due to the large size of the repository. This restriction has been made on GitHub\u0026#39;s request because updating shallow clones is an extremely expensive operation due to the tree layout and traffic of Homebrew/homebrew-core and Homebrew/homebrew-cask. We don\u0026#39;t do this for you automatically to avoid repeatedly performing an expensive unshallow operation in CI systems (which should instead be fixed to not use shallow clones). Sorry for the inconvenience! æŒ‰ç…§æç¤ºæ‰§è¡Œå‘½ä»¤ï¼Œå› ä¸ºæºçš„é—®é¢˜æ€»æ˜¯æ‰§è¡Œä¸äº†ï¼Œæ›´æ¢ä¸­ç§‘å¤§çš„æºä¹Ÿä¸è¡Œï¼Œæœ€ç»ˆè§£å†³åŠæ³•å¦‚ä¸‹\ncd /usr/local/Homebrew/Library/Taps/homebrew rm -rf homebrew-core brew upgrade ","permalink":"https://theone-daxia.github.io/blog/code/mac/homebrew/","summary":"é—®é¢˜åˆ—è¡¨ mac ç³»ç»Ÿå‡çº§åï¼Œä½¿ç”¨ homebrew æŠ¥é”™ï¼Œæç¤º \u0026ldquo;brew-core is a shallow clone\u0026rdquo;\nâœ ~ brew install docker Error: homebrew-core is a shallow clone. To `brew update`, first run: git -C /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core fetch --unshallow This command may take a few minutes to run due to the large size of the repository. This restriction has been made on GitHub\u0026#39;s request because updating shallow clones is an extremely expensive operation due to the tree layout and traffic of Homebrew/homebrew-core and Homebrew/homebrew-cask.","title":"Homebrew ç›¸å…³é—®é¢˜"},{"content":"èµ·å›  æœ€è¿‘æ¢äº†ä¸ªç”µè„‘ï¼Œå…‹éš†è‡ªå·±çš„ç§æœ‰ä»“åº“æ—¶å¤±è´¥ï¼Œ æ€»æ˜¯æŠ¥æƒé™ç›¸å…³çš„é—®é¢˜ã€‚æŸ¥è¯¢æ–‡æ¡£åï¼Œæ‰¾åˆ°è§£å†³åŠæ³•ã€‚\næ–‡æ¡£é“¾æ¥ï¼šhttps://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\nè§£å†³åŠæ³• æ ¹æ®æ–‡æ¡£ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤æ“ä½œï¼š\nç‚¹å‡»ä¸ªäººå¤´åƒï¼Œåœ¨ä¸‹æ‹‰èœå•ä¸­ç‚¹å‡» Settings ç‚¹å‡»å·¦è¾¹èœå•æ æœ€ä¸‹é¢çš„ Developer settings ç‚¹å‡» Personal access tokens ç‚¹å‡» Fine-grained tokens ç‚¹å‡» Generate new token ç„¶åå°±æ˜¯æŒ‰ç…§é¡µé¢ä¸Šçš„é€‰é¡¹æ“ä½œï¼Œæ¯”å¦‚ç»™ token èµ·åã€é€‰æ‹©ä»“åº“ã€é€‰æ‹©æƒé™ã€é€‰æ‹©è¿‡æœŸæ—¶é—´ç­‰ æœ€åç”Ÿæˆ tokenï¼Œç‚¹å‡»å¤åˆ¶ å†æ¬¡æ“ä½œå…‹éš† git clone https://xxxï¼Œå›è½¦åä¼šè®©ä½ è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¯†ç å°±è¾“å…¥åˆšæ‰å¤åˆ¶çš„ tokenï¼Œç»“æŸï¼ ","permalink":"https://theone-daxia.github.io/blog/code/github/clone-private/","summary":"èµ·å›  æœ€è¿‘æ¢äº†ä¸ªç”µè„‘ï¼Œå…‹éš†è‡ªå·±çš„ç§æœ‰ä»“åº“æ—¶å¤±è´¥ï¼Œ æ€»æ˜¯æŠ¥æƒé™ç›¸å…³çš„é—®é¢˜ã€‚æŸ¥è¯¢æ–‡æ¡£åï¼Œæ‰¾åˆ°è§£å†³åŠæ³•ã€‚\næ–‡æ¡£é“¾æ¥ï¼šhttps://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\nè§£å†³åŠæ³• æ ¹æ®æ–‡æ¡£ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤æ“ä½œï¼š\nç‚¹å‡»ä¸ªäººå¤´åƒï¼Œåœ¨ä¸‹æ‹‰èœå•ä¸­ç‚¹å‡» Settings ç‚¹å‡»å·¦è¾¹èœå•æ æœ€ä¸‹é¢çš„ Developer settings ç‚¹å‡» Personal access tokens ç‚¹å‡» Fine-grained tokens ç‚¹å‡» Generate new token ç„¶åå°±æ˜¯æŒ‰ç…§é¡µé¢ä¸Šçš„é€‰é¡¹æ“ä½œï¼Œæ¯”å¦‚ç»™ token èµ·åã€é€‰æ‹©ä»“åº“ã€é€‰æ‹©æƒé™ã€é€‰æ‹©è¿‡æœŸæ—¶é—´ç­‰ æœ€åç”Ÿæˆ tokenï¼Œç‚¹å‡»å¤åˆ¶ å†æ¬¡æ“ä½œå…‹éš† git clone https://xxxï¼Œå›è½¦åä¼šè®©ä½ è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¯†ç å°±è¾“å…¥åˆšæ‰å¤åˆ¶çš„ tokenï¼Œç»“æŸï¼ ","title":"github å…‹éš†è‡ªå·±çš„ç§æœ‰ä»“åº“"},{"content":"å‰è¨€ ç½‘ä¸Šæœ‰å¾ˆå¤šè®² go gc çš„æ–‡ç« ï¼Œä½†å¤§å¤šè®²çš„ä¸æ˜ä¸ç™½ï¼Œ ä¸€äº›çªç„¶å‡ºç°çš„æœ¯è¯­æ›´æ˜¯ä¸çŸ¥ä»ä½•è€Œèµ·ï¼Œå¯¼è‡´çœ‹è¿‡ä¸€äº›æ–‡ç« åå¯¹ gc ä¾æ—§äº‘é‡Œé›¾é‡Œã€‚ å¥½åœ¨æœ€è¿‘åœ¨å…¬ä¼—å·çœ‹åˆ°äº†ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘è§‰å¾—å†™çš„å¾ˆèµï¼Œ èµ·ç è§£ç­”äº†é‚£äº›çªç„¶å‡ºç°çš„æœ¯è¯­æ˜¯ä»€ä¹ˆã€‚\næˆ‘å†³å®šæŠŠå®ƒæ¬è¿åˆ°è¿™é‡Œï¼Œæ‰‹å†™ä¸€éè®°å¿†æ›´åŠ æ·±åˆ»ã€‚ æ¥ä¸‹æ¥æ˜¯å¯¹åŸæ–‡çš„é»˜å†™ï¼Œå¿˜äº†å°±ç›´æ¥æŠ„å†™ã€‚\nåŸæ–‡ä¸­ä¼šè´´å‡ºä¸€äº› go çš„æºä»£ç ï¼Œæˆ‘æœ¬åœ° go ç‰ˆæœ¬æ˜¯ 1.18.2ï¼Œå¯¹ç…§çœ‹çš„æ—¶å€™ä¼šæœ‰äº›å‡ºå…¥ï¼Œ å‡ºå…¥çš„åœ°æ–¹æˆ‘å°±æ”¹è´´ä¸Šæˆ‘æœ¬åœ°çš„ go æºä»£ç ã€‚ æ‰€æœ‰å›¾ç‰‡éƒ½æ¥æºäºåŸæ–‡ï¼ŒåŸæ–‡åœ°å€åœ¨æœ€ä¸‹é¢å‚è€ƒæ–‡çŒ®ä¸­åˆ—å‡ºã€‚ é»˜å†™åŠ æŠ„å†™ æœ¬æ–‡ä»¥ go å†…å­˜ç®¡ç†ä¸ºåˆ‡å…¥ç‚¹ï¼Œå†åˆ° go åƒåœ¾å›æ”¶ï¼Œç³»ç»Ÿçš„è®²è§£äº† go è‡ªåŠ¨å†…å­˜ç®¡ç†ç³»ç»Ÿçš„è®¾è®¡å’ŒåŸç†ã€‚\nä¸€ã€TCMalloc go çš„å†…å­˜ç®¡ç†å€Ÿé‰´äº† TCMalloc çš„è®¾è®¡æ€æƒ³ï¼ŒTCMalloc å…¨ç§° Thread-Caching Mallocï¼Œ æ˜¯ google å¼€å‘çš„å†…å­˜åˆ†é…å™¨ï¼Œä¸ºäº†æ–¹ä¾¿ç†è§£ go çš„å†…å­˜ç®¡ç†ï¼Œæœ‰å¿…è¦å…ˆç†Ÿæ‚‰ä¸‹ TCMallocã€‚\n(ä¸€) Page æ“ä½œç³»ç»Ÿå¯¹å†…å­˜çš„ç®¡ç†ä»¥é¡µä¸ºå•ä½ï¼ŒTCMalloc ä¹Ÿæ˜¯è¿™æ ·ï¼Œ åªä¸è¿‡ TCMalloc é‡Œçš„ Page å¤§å°ä¸æ“ä½œç³»ç»Ÿé‡Œçš„å¤§å°ä¸ä¸€å®šç›¸ç­‰ï¼Œæ˜¯å€æ•°çš„å…³ç³»ã€‚\n(äºŒ) Span ä¸€ç»„è¿ç»­çš„ Page ç§°ä¸º Spanï¼Œæ¯”å¦‚å¯ä»¥æœ‰ 4 ä¸ªé¡µå¤§å°çš„ Spanï¼Œä¹Ÿå¯ä»¥æœ‰ 8 ä¸ªé¡µå¤§å°çš„ Spanã€‚ Span æ¯” Page é«˜ä¸€ä¸ªå±‚çº§ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿ç®¡ç†ä¸€å®šå¤§å°çš„å†…å­˜åŒºåŸŸï¼Œ Span æ˜¯ TCMalloc ä¸­å†…å­˜ç®¡ç†çš„åŸºæœ¬å•ä½ã€‚\n(ä¸‰) ThreadCache æ¯ä¸ªçº¿ç¨‹å„è‡ªçš„ Cacheï¼Œä¸€ä¸ª Cache åŒ…å«å¤šä¸ªç©ºé—²çš„å†…å­˜å—é“¾è¡¨ï¼Œ åŒä¸€ä¸ªé“¾è¡¨ä¸Šçš„å†…å­˜å—å¤§å°ç›¸åŒï¼Œä¹Ÿå¯ä»¥è¯´æŒ‰å†…å­˜å—å¤§å°ï¼Œç»™å†…å­˜å—åˆ†äº†ä¸ªç±»ï¼Œ è¿™æ ·å¯ä»¥æ ¹æ®ç”³è¯·çš„å†…å­˜å¤§å°ï¼Œå¿«é€Ÿä»åˆé€‚çš„é“¾è¡¨ä¸Šé€‰æ‹©ç©ºé—²å†…å­˜å—ã€‚ ç”±äºæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ ThreadCacheï¼Œæ‰€ä»¥ ThreadCache çš„è®¿é—®æ˜¯æ— é”çš„ã€‚\n(å››) CentralCache æ˜¯æ‰€æœ‰çº¿ç¨‹å…±äº«çš„ç¼“å­˜ï¼Œä¹Ÿæ˜¯ä¿å­˜çš„ç©ºé—²å†…å­˜å—é“¾è¡¨ï¼Œ é“¾è¡¨çš„æ•°é‡å’Œ ThreadCache ä¸­é“¾è¡¨çš„æ•°é‡ç›¸åŒã€‚ å½“ ThreadCache å†…å­˜å—ä¸è¶³æ—¶ï¼Œå¯ä»¥ä» CentralCache å–ï¼Œ å½“ ThreadCache å†…å­˜å—å¤šæ—¶ï¼Œå¯ä»¥æ”¾å› CentralCacheã€‚ ç”±äº CentralCache æ˜¯å…±äº«çš„ï¼Œæ‰€ä»¥å®ƒçš„è®¿é—®æ˜¯è¦åŠ é”çš„ã€‚\n(äº”) PageHeap PageHeap æ˜¯å †å†…å­˜çš„æŠ½è±¡ï¼Œå­˜çš„ä¹Ÿæ˜¯è‹¥å¹²é“¾è¡¨ï¼Œé“¾è¡¨ä¿å­˜çš„æ˜¯ Spanï¼Œ å½“ CentralCache æ²¡æœ‰å†…å­˜æ—¶ï¼Œä¼šä» PageHeap å–ï¼Œ æŠŠä¸€ä¸ª Span æ‹†æˆè‹¥å¹²å†…å­˜å—ï¼Œæ·»åŠ åˆ°å¯¹åº”å¤§å°çš„é“¾è¡¨ä¸­ï¼Œ å½“ CentralCache å†…å­˜å¤šæ—¶ï¼Œä¼šæ”¾å› PageHeapã€‚\n(å…­) TCMalloc å¯¹è±¡åˆ†é… å°å¯¹è±¡ç›´æ¥ä» ThreadCache åˆ†é…ï¼Œ è‹¥ ThreadCache ä¸å¤Ÿï¼Œåˆ™ä» CentralCache ä¸­è·å–å†…å­˜ï¼Œ è‹¥ CentralCache ä¸å¤Ÿï¼Œåˆ™ä» PageHeap ä¸­è·å–å†…å­˜ï¼› å¤§å¯¹è±¡åœ¨ PageHeap ä¸­é€‰å–åˆé€‚çš„é¡µç»„æˆ Span ç”¨äºå­˜å‚¨æ•°æ®ã€‚\näºŒã€go å†…å­˜ç®¡ç† go å†…å­˜ç®¡ç†æ¶æ„å–ä¹‹ TCMallocï¼Œä¸è¿‡åœ¨ç»†èŠ‚ä¸Šæœ‰äº›å‡ºå…¥ï¼Œ å…ˆæ¥çœ‹ä¸€å¼  go å†…å­˜ç®¡ç†æ¶æ„å›¾ï¼š\n(ä¸€) Page å’Œ TCMalloc ä¸­çš„ Page ç›¸åŒï¼Œä¸Šå›¾ä¸­æœ€ä¸‹æ–¹æµ…è“è‰²é•¿æ–¹å½¢ä»£è¡¨ä¸€ä¸ª Pageã€‚\n(äºŒ) Span ä¸ TCMalloc ä¸­çš„ Span ç›¸åŒï¼ŒSpan æ˜¯ go å†…å­˜ç®¡ç†çš„åŸºæœ¬å•ä½ï¼Œä»£ç ä¸­ä¸º mspanï¼Œ ä¸€ç»„è¿ç»­çš„ Page ç»„æˆä¸€ä¸ª Spanã€‚\n(ä¸‰) mcache mcache ä¸ TCMalloc ä¸­çš„ ThreadCache ç±»ä¼¼ï¼Œmcache ä¿å­˜çš„æ˜¯å„ç§å¤§å°çš„ Spanï¼Œ å¹¶æŒ‰ Span class åˆ†ç±»ï¼Œå°å¯¹è±¡ç›´æ¥ä» mcache åˆ†é…å†…å­˜ï¼Œå®ƒèµ·åˆ°äº†ç¼“å­˜çš„ä½œç”¨ï¼Œ å¹¶ä¸”å¯ä»¥æ— é”è®¿é—®ã€‚\nä½† mcache å’Œ ThreadCache ä¹Ÿæœ‰ä¸åŒç‚¹ï¼ŒTCMalloc ä¸­æ˜¯æ¯ä¸ªçº¿ç¨‹ä¸€ä¸ª ThreadCacheï¼Œ go ä¸­æ˜¯æ¯ä¸ª P æ‹¥æœ‰ä¸€ä¸ª mcacheï¼Œå› ä¸ºåœ¨ go ç¨‹åºä¸­ï¼Œå½“å‰æœ€å¤šæœ‰ GOMAXPROCS ä¸ªçº¿ç¨‹åœ¨è¿è¡Œï¼Œ æ‰€ä»¥æœ€å¤šéœ€è¦ GOMAXPROCS ä¸ª mcache å°±å¯ä»¥ä¿è¯å„çº¿ç¨‹å¯¹ mcache çš„æ— é”è®¿é—®ã€‚ ä¸‹å›¾æ˜¯ Gã€Pã€M ä¸‰è€…ä¹‹é—´çš„å…³ç³»ï¼š\n(å››) mcentral mcentral ä¸ TCMalloc ä¸­çš„ CentralCache ç±»ä¼¼ï¼Œæ˜¯æ‰€æœ‰çº¿ç¨‹å…±äº«çš„ç¼“å­˜ï¼Œéœ€è¦åŠ é”è®¿é—®ã€‚ å®ƒæŒ‰ Span class å¯¹ Span åˆ†ç±»ï¼Œä¸²è”æˆé“¾è¡¨ï¼Œå½“ mcache çš„æŸä¸ªçº§åˆ« Span çš„å†…å­˜è¢«åˆ†é…å…‰æ—¶ï¼Œ å®ƒä¼šå‘ mcentral ç”³è¯·ä¸€ä¸ªå½“å‰çº§åˆ«çš„ Spanã€‚\nä½† mcentral ä¸ CentralCache ä¹Ÿæœ‰ä¸åŒç‚¹ï¼Œ CentralCache æ˜¯æ¯ä¸ªçº§åˆ«çš„ Span æœ‰ä¸€ä¸ªé“¾è¡¨ï¼Œ mcentral æ˜¯æ¯ä¸ªçº§åˆ«çš„ Span æœ‰ä¸¤ä¸ªé“¾è¡¨ã€‚\n(äº”) mheap mheap ä¸ TCMalloc çš„ PageHeap ç±»ä¼¼ï¼Œå®ƒæ˜¯å †å†…å­˜çš„æŠ½è±¡ï¼ŒæŠŠä» OS ç”³è¯·å‡ºçš„å†…å­˜é¡µç»„ç»‡æˆ Spanï¼Œ å¹¶ä¿å­˜èµ·æ¥ã€‚å½“ mcentral çš„ Span ä¸å¤Ÿç”¨æ—¶ä¼šå‘ mheap ç”³è¯·ï¼Œ mheap çš„ Span ä¸å¤Ÿç”¨æ—¶ä¼šå‘ OS ç”³è¯·ï¼ŒæŠŠä» OS ç”³è¯·çš„å†…å­˜é¡µç”Ÿæˆ Span ç»„ç»‡èµ·æ¥ï¼Œéœ€è¦åŠ é”è®¿é—®ã€‚\nä½† mheap ä¸ PageHeap ä¹Ÿæœ‰ä¸åŒç‚¹ï¼Œ mheap æŠŠ Span ç»„ç»‡æˆäº†æ ‘ç»“æ„ï¼Œè€Œä¸æ˜¯é“¾è¡¨ï¼Œå¹¶ä¸”è¿˜æ˜¯ä¸¤æ£µæ ‘ï¼Œ ç„¶åæŠŠ Span åˆ†é…åˆ° heapArena è¿›è¡Œç®¡ç†ï¼Œå®ƒåŒ…å«åœ°å€æ˜ å°„å’Œ Span æ˜¯å¦åŒ…å«æŒ‡é’ˆç­‰ä½å›¾ï¼Œ è¿™æ ·åšçš„ä¸»è¦åŸå› æ˜¯ä¸ºäº†æ›´é«˜æ•ˆçš„åˆ©ç”¨å†…å­˜ï¼šåˆ†é…ã€å›æ”¶å’Œå†åˆ©ç”¨ã€‚\n(å…­) å†…å­˜åˆ†é… TCMalloc çš„å†…å­˜åˆ†ç±»åˆ†ä¸ºï¼šå°ã€ä¸­ã€å¤§å¯¹è±¡ï¼Œ go åˆ†ä¸ºï¼šTinyã€å°ã€å¤§å¯¹è±¡ã€‚ Tiny å¯¹è±¡æŒ‡å¤§å°åœ¨ 1Byte åˆ° 16Byte ä¹‹é—´ä¸”ä¸åŒ…å«æŒ‡é’ˆçš„å¯¹è±¡ã€‚ å°å¯¹è±¡å’Œå¤§å¯¹è±¡åªç”¨å¤§å°åˆ’å®šï¼Œæ— å…¶ä»–åŒºåˆ†ï¼Œ å°å¯¹è±¡å¤§å°åœ¨ 16Byte åˆ° 32KB ä¹‹é—´ï¼Œ å¤§å¯¹è±¡å¤§å°å¤§äº 32KBã€‚\ngo çš„å†…å­˜ç®¡ç†åŸºæœ¬å•ä½æ˜¯ Spanï¼Œä¸” Span æœ‰ä¸åŒçš„è§„æ ¼ï¼Œæƒ³è¦åŒºåˆ†å‡ºä¸åŒçš„ Spanï¼Œ å°±å¾—æœ‰ä¸ªæ ‡è¯†ï¼Œæ¯ä¸ª Span é€šè¿‡ spanclass æ ‡è¯†å±äºå“ªç§è§„æ ¼çš„ Spanï¼Œ go çš„ Span ä¸€å…±æœ‰ 67 ç§ï¼Œå…·ä½“å¦‚ä¸‹ï¼š\n// from runtime/sizeclasses.go // class bytes/obj bytes/span objects tail waste max waste min align // 1 8 8192 1024 0 87.50% 8 // 2 16 8192 512 0 43.75% 16 // 3 24 8192 341 8 29.24% 8 // 4 32 8192 256 0 21.88% 32 // 5 48 8192 170 32 31.52% 16 // 6 64 8192 128 0 23.44% 64 // 7 80 8192 102 32 19.07% 16 // 8 96 8192 85 32 15.95% 32 // 9 112 8192 73 16 13.56% 16 // 10 128 8192 64 0 11.72% 128 // 11 144 8192 56 128 11.82% 16 // 12 160 8192 51 32 9.73% 32 // 13 176 8192 46 96 9.59% 16 // 14 192 8192 42 128 9.25% 64 // 15 208 8192 39 80 8.12% 16 // 16 224 8192 36 128 8.15% 32 // 17 240 8192 34 32 6.62% 16 // 18 256 8192 32 0 5.86% 256 // 19 288 8192 28 128 12.16% 32 // 20 320 8192 25 192 11.80% 64 // 21 352 8192 23 96 9.88% 32 // 22 384 8192 21 128 9.51% 128 // 23 416 8192 19 288 10.71% 32 // 24 448 8192 18 128 8.37% 64 // 25 480 8192 17 32 6.82% 32 // 26 512 8192 16 0 6.05% 512 // 27 576 8192 14 128 12.33% 64 // 28 640 8192 12 512 15.48% 128 // 29 704 8192 11 448 13.93% 64 // 30 768 8192 10 512 13.94% 256 // 31 896 8192 9 128 15.52% 128 // 32 1024 8192 8 0 12.40% 1024 // 33 1152 8192 7 128 12.41% 128 // 34 1280 8192 6 512 15.55% 256 // 35 1408 16384 11 896 14.00% 128 // 36 1536 8192 5 512 14.00% 512 // 37 1792 16384 9 256 15.57% 256 // 38 2048 8192 4 0 12.45% 2048 // 39 2304 16384 7 256 12.46% 256 // 40 2688 8192 3 128 15.59% 128 // 41 3072 24576 8 0 12.47% 1024 // 42 3200 16384 5 384 6.22% 128 // 43 3456 24576 7 384 8.83% 128 // 44 4096 8192 2 0 15.60% 4096 // 45 4864 24576 5 256 16.65% 256 // 46 5376 16384 3 256 10.92% 256 // 47 6144 24576 4 0 12.48% 2048 // 48 6528 32768 5 128 6.23% 128 // 49 6784 40960 6 256 4.36% 128 // 50 6912 49152 7 768 3.37% 256 // 51 8192 8192 1 0 15.61% 8192 // 52 9472 57344 6 512 14.28% 256 // 53 9728 49152 5 512 3.64% 512 // 54 10240 40960 4 0 4.99% 2048 // 55 10880 32768 3 128 6.24% 128 // 56 12288 24576 2 0 11.45% 4096 // 57 13568 40960 3 256 9.99% 256 // 58 14336 57344 4 0 5.35% 2048 // 59 16384 16384 1 0 12.49% 8192 // 60 18432 73728 4 0 11.11% 2048 // 61 19072 57344 3 128 3.57% 128 // 62 20480 40960 2 0 6.87% 4096 // 63 21760 65536 3 256 6.25% 256 // 64 24576 24576 1 0 11.45% 8192 // 65 27264 81920 3 128 10.00% 128 // 66 28672 57344 2 0 4.91% 4096 // 67 32768 32768 1 0 12.50% 8192 ç”±ä¸Šè¡¨å¯è§ï¼Œæœ€å¤§çš„å¯¹è±¡å¤§å°ä¸º 32KBï¼Œè¶…è¿‡ 32KB å¤§å°çš„ç”±ç‰¹æ®Š class è¡¨ç¤ºï¼Œ è¯¥ class ID ä¸º 0ï¼Œæ¯ä¸ª class åªåŒ…å«ä¸€ä¸ªå¯¹è±¡ã€‚\nå†…å­˜å¤§å°è½¬æ¢ï¼Œæœ‰ 3 ä¸ªæ•°ç»„ï¼Œå¯¹åº”ä¸‹å›¾ä¸­çš„ä¸‰ä¸ªç®­å¤´ï¼š\nclass_to_size size_to_class class_to_allocnpages class 1 çš„å¯¹è±¡å¤§å°ä¸º 8Byteï¼Œæ‰€ä»¥ class_to_size[1] = 8ï¼› span å¤§å°æ˜¯ 8KBï¼Œä¸º 1 é¡µï¼ˆå› ä¸º go å†…å­˜ç®¡ç†ä»¥ 8KB ä¸ºä¸€é¡µï¼‰ï¼Œ æ‰€ä»¥ class_to_allocnpages[1] = 1ï¼Œä¸‹é¢æ˜¯æºç ä¸­å¤§å°è½¬æ¢æ•°ç»„ï¼š\nconst ( _MaxSmallSize = 32768 smallSizeDiv = 8 smallSizeMax = 1024 largeSizeDiv = 128 _NumSizeClasses = 68 _PageShift = 13 ) var class_to_size = [_NumSizeClasses]uint16{0, 8, 16, 24, 32, 48, 64, 80, 96, 112, 128, 144, 160, 176, 192, 208, 224, 240, 256, 288, 320, 352, 384, 416, 448, 480, 512, 576, 640, 704, 768, 896, 1024, 1152, 1280, 1408, 1536, 1792, 2048, 2304, 2688, 3072, 3200, 3456, 4096, 4864, 5376, 6144, 6528, 6784, 6912, 8192, 9472, 9728, 10240, 10880, 12288, 13568, 14336, 16384, 18432, 19072, 20480, 21760, 24576, 27264, 28672, 32768} var class_to_allocnpages = [_NumSizeClasses]uint8{0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 2, 1, 3, 2, 3, 1, 3, 2, 3, 4, 5, 6, 1, 7, 6, 5, 4, 3, 5, 7, 2, 9, 7, 5, 8, 3, 10, 7, 4} var class_to_divmagic = [_NumSizeClasses]uint32{0, ^uint32(0)/8 + 1, ^uint32(0)/16 + 1, ^uint32(0)/24 + 1, ^uint32(0)/32 + 1, ^uint32(0)/48 + 1, ^uint32(0)/64 + 1, ^uint32(0)/80 + 1, ^uint32(0)/96 + 1, ^uint32(0)/112 + 1, ^uint32(0)/128 + 1, ^uint32(0)/144 + 1, ^uint32(0)/160 + 1, ^uint32(0)/176 + 1, ^uint32(0)/192 + 1, ^uint32(0)/208 + 1, ^uint32(0)/224 + 1, ^uint32(0)/240 + 1, ^uint32(0)/256 + 1, ^uint32(0)/288 + 1, ^uint32(0)/320 + 1, ^uint32(0)/352 + 1, ^uint32(0)/384 + 1, ^uint32(0)/416 + 1, ^uint32(0)/448 + 1, ^uint32(0)/480 + 1, ^uint32(0)/512 + 1, ^uint32(0)/576 + 1, ^uint32(0)/640 + 1, ^uint32(0)/704 + 1, ^uint32(0)/768 + 1, ^uint32(0)/896 + 1, ^uint32(0)/1024 + 1, ^uint32(0)/1152 + 1, ^uint32(0)/1280 + 1, ^uint32(0)/1408 + 1, ^uint32(0)/1536 + 1, ^uint32(0)/1792 + 1, ^uint32(0)/2048 + 1, ^uint32(0)/2304 + 1, ^uint32(0)/2688 + 1, ^uint32(0)/3072 + 1, ^uint32(0)/3200 + 1, ^uint32(0)/3456 + 1, ^uint32(0)/4096 + 1, ^uint32(0)/4864 + 1, ^uint32(0)/5376 + 1, ^uint32(0)/6144 + 1, ^uint32(0)/6528 + 1, ^uint32(0)/6784 + 1, ^uint32(0)/6912 + 1, ^uint32(0)/8192 + 1, ^uint32(0)/9472 + 1, ^uint32(0)/9728 + 1, ^uint32(0)/10240 + 1, ^uint32(0)/10880 + 1, ^uint32(0)/12288 + 1, ^uint32(0)/13568 + 1, ^uint32(0)/14336 + 1, ^uint32(0)/16384 + 1, ^uint32(0)/18432 + 1, ^uint32(0)/19072 + 1, ^uint32(0)/20480 + 1, ^uint32(0)/21760 + 1, ^uint32(0)/24576 + 1, ^uint32(0)/27264 + 1, ^uint32(0)/28672 + 1, ^uint32(0)/32768 + 1} var size_to_class8 = [smallSizeMax/smallSizeDiv + 1]uint8{0, 1, 2, 3, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 14, 14, 15, 15, 16, 16, 17, 17, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 22, 22, 22, 22, 23, 23, 23, 23, 24, 24, 24, 24, 25, 25, 25, 25, 26, 26, 26, 26, 27, 27, 27, 27, 27, 27, 27, 27, 28, 28, 28, 28, 28, 28, 28, 28, 29, 29, 29, 29, 29, 29, 29, 29, 30, 30, 30, 30, 30, 30, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32} var size_to_class128 = [(_MaxSmallSize-smallSizeMax)/largeSizeDiv + 1]uint8{32, 33, 34, 35, 36, 37, 37, 38, 38, 39, 39, 40, 40, 40, 41, 41, 41, 42, 43, 43, 44, 44, 44, 44, 44, 45, 45, 45, 45, 45, 45, 46, 46, 46, 46, 47, 47, 47, 47, 47, 47, 48, 48, 48, 49, 49, 50, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 53, 53, 54, 54, 54, 54, 55, 55, 55, 55, 55, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 58, 58, 58, 58, 58, 58, 59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 61, 61, 61, 61, 61, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67, 67} ä¸ºå¯¹è±¡å¯»æ‰¾ Span çš„æµç¨‹å¦‚ä¸‹ï¼š\nè®¡ç®—å¯¹è±¡æ‰€éœ€å†…å­˜å¤§å° sizeã€‚ æ ¹æ® size åˆ° size class æ˜ å°„ï¼Œå¾—åˆ° size classã€‚ æ ¹æ® size class å’Œå¯¹è±¡æ˜¯å¦åŒ…å«æŒ‡é’ˆï¼Œå¾—åˆ° span classã€‚ è·å–è¯¥ span class æŒ‡å‘çš„ spanã€‚ ä»¥åˆ†é…ä¸€ä¸ªåŒ…å«æŒ‡é’ˆï¼Œå¤§å°ä¸º 20Byte çš„å¯¹è±¡ä¸ºä¾‹ï¼Œæ ¹æ®æ˜ å°„è¡¨ï¼Œ size class 3ï¼Œå®ƒçš„å¯¹è±¡å¤§å°èŒƒå›´æ˜¯ (16, 24]Byteï¼Œ20Byte åˆšå¥½åœ¨è¿™ä¹‹é—´ï¼Œ æ‰€ä»¥æ­¤å¯¹è±¡çš„ size class ä¸º 3ï¼Œsize class åˆ° span class çš„è®¡ç®—å¦‚ä¸‹ï¼š\ntype spanClass uint8 // noscan ä¸º false ä»£è¡¨å¯¹è±¡åŒ…å«æŒ‡é’ˆ func makeSpanClass(sizeclass uint8, noscan bool) spanClass { return spanClass(sizeclass\u0026lt;\u0026lt;1) | spanClass(bool2int(noscan)) } æ‰€ä»¥å¯¹åº”çš„ span class ä¸ºï¼š\nspan class = 3\u0026lt;\u0026lt;1 | 0 // å³ 110 | 000 = 6 æ‰€ä»¥è¯¥å¯¹è±¡éœ€è¦çš„æ˜¯ span class 6 æŒ‡å‘çš„ spanï¼Œè‡ªæ­¤ï¼Œå°å¯¹è±¡å†…å­˜åˆ†é…å®Œæˆã€‚\næºç ä¸­ä¸‰æ®µåˆ†åˆ«é’ˆå¯¹ tinyã€å°ã€å¤§å¯¹è±¡è¿›è¡Œåˆ†é…ï¼Œä¸‹é¢åªè¯¦ç»†è´´å‡ºå°å¯¹è±¡åˆ†é…å†…å­˜çš„ä»£ç ï¼š\nif size \u0026lt;= maxSmallSize { if noscan \u0026amp;\u0026amp; size \u0026lt; maxTinySize { // tiny å¯¹è±¡åˆ†é… (\u0026lt; 16B) ... } else { // å°å¯¹è±¡åˆ†é… (16B ~ 32KB) var sizeclass uint8 // å…ˆè®¡ç®— sizeclass if size \u0026lt;= smallSizeMax-8 { sizeclass = size_to_class8[divRoundUp(size, smallSizeDiv)] } else { sizeclass = size_to_class128[divRoundUp(size-smallSizeMax, largeSizeDiv)] } size = uintptr(class_to_size[sizeclass]) // å†è®¡ç®— span class spc := makeSpanClass(sizeclass, noscan) // åˆ†é…å¯¹åº”çš„ span (æ˜¯ä¸€ä¸ª *mspan) span = c.alloc[spc] v := nextFreeFast(span) if v == 0 { v, span, shouldhelpgc = c.nextFree(spc) } x = unsafe.Pointer(v) if needzero \u0026amp;\u0026amp; span.needzero != 0 { memclrNoHeapPointers(unsafe.Pointer(v), size) } } } else { // å¤§å¯¹è±¡åˆ†é… (\u0026gt; 32KB) ... span = c.allocLarge(size, noscan) ... } å¤§å¯¹è±¡ï¼ˆ\u0026gt; 32KBï¼‰ç›´æ¥åœ¨ mheap ä¸Šåˆ†é…ï¼Œé¦–å…ˆè®¡ç®—å‡ºéœ€è¦çš„å†…å­˜é¡µæ•°å’Œ span classï¼Œ ç„¶åä¼˜å…ˆä» free ä¸­æœç´¢å¯ç”¨çš„ spanï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œä¼šä» scav ä¸­æœç´¢å¯ç”¨çš„ spanï¼Œ å¦‚æœè¿˜æ²¡æ‰¾åˆ°ï¼Œåˆ™å‘ OS ç”³è¯·å†…å­˜ï¼Œå†é‡æ–°æœç´¢ä¸¤æ£µæ ‘ï¼Œå¿…ç„¶èƒ½æ‰¾åˆ° spanã€‚ å¦‚æœæ‰¾åˆ°çš„ span æ¯”éœ€è¦çš„ span å¤§ï¼Œåˆ™æŠŠ span åˆ†å‰²æˆ 2 ä¸ª spanï¼Œ ä¸€ä¸ªåˆšå¥½æ˜¯éœ€æ±‚å¤§å°ï¼ŒæŠŠå‰©ä¸‹çš„ span å†åŠ å…¥åˆ° free ä¸­å»ã€‚\n// from runtime/mcache.go func (c *mcache) allocLarge(size uintptr, noscan bool) *mspan { if size+_PageSize \u0026lt; size { throw(\u0026#34;out of memory\u0026#34;) } // _PageShift = 13ï¼Œä»è¿™é‡Œå°±èƒ½çœ‹å‡ºä¸€é¡µæ˜¯ 8KB npages := size \u0026gt;\u0026gt; _PageShift if size\u0026amp;_PageMask != 0 { npages++ } // Deduct credit for this span allocation and sweep if // necessary. mHeap_Alloc will also sweep npages, so this only // pays the debt down to npage pages. deductSweepCredit(npages*_PageSize, npages) spc := makeSpanClass(0, noscan) s := mheap_.alloc(npages, spc) if s == nil { throw(\u0026#34;out of memory\u0026#34;) } stats := memstats.heapStats.acquire() atomic.Xadduintptr(\u0026amp;stats.largeAlloc, npages*pageSize) atomic.Xadduintptr(\u0026amp;stats.largeAllocCount, 1) memstats.heapStats.release() // Update heapLive. gcController.update(int64(s.npages*pageSize), 0) // Put the large span in the mcentral swept list so that it\u0026#39;s // visible to the background sweeper. mheap_.central[spc].mcentral.fullSwept(mheap_.sweepgen).push(s) s.limit = s.base() + size heapBitsForAddr(s.base()).initSpan(s) return s } ä¸‰ã€åƒåœ¾å›æ”¶ (ä¸€) æ ‡è®°-æ¸…é™¤ (äºŒ) ä¸‰è‰²å¯è¾¾æ€§åˆ†æ (ä¸‰) gc è§¦å‘ (å››) gc è¿‡ç¨‹ gcStart Mark Sweep å‚è€ƒæ–‡çŒ® è¶…å¹²è´§ï¼å½»åº•ææ‡‚Golangå†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶ ","permalink":"https://theone-daxia.github.io/blog/code/go/gc/","summary":"å‰è¨€ ç½‘ä¸Šæœ‰å¾ˆå¤šè®² go gc çš„æ–‡ç« ï¼Œä½†å¤§å¤šè®²çš„ä¸æ˜ä¸ç™½ï¼Œ ä¸€äº›çªç„¶å‡ºç°çš„æœ¯è¯­æ›´æ˜¯ä¸çŸ¥ä»ä½•è€Œèµ·ï¼Œå¯¼è‡´çœ‹è¿‡ä¸€äº›æ–‡ç« åå¯¹ gc ä¾æ—§äº‘é‡Œé›¾é‡Œã€‚ å¥½åœ¨æœ€è¿‘åœ¨å…¬ä¼—å·çœ‹åˆ°äº†ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘è§‰å¾—å†™çš„å¾ˆèµï¼Œ èµ·ç è§£ç­”äº†é‚£äº›çªç„¶å‡ºç°çš„æœ¯è¯­æ˜¯ä»€ä¹ˆã€‚\næˆ‘å†³å®šæŠŠå®ƒæ¬è¿åˆ°è¿™é‡Œï¼Œæ‰‹å†™ä¸€éè®°å¿†æ›´åŠ æ·±åˆ»ã€‚ æ¥ä¸‹æ¥æ˜¯å¯¹åŸæ–‡çš„é»˜å†™ï¼Œå¿˜äº†å°±ç›´æ¥æŠ„å†™ã€‚\nåŸæ–‡ä¸­ä¼šè´´å‡ºä¸€äº› go çš„æºä»£ç ï¼Œæˆ‘æœ¬åœ° go ç‰ˆæœ¬æ˜¯ 1.18.2ï¼Œå¯¹ç…§çœ‹çš„æ—¶å€™ä¼šæœ‰äº›å‡ºå…¥ï¼Œ å‡ºå…¥çš„åœ°æ–¹æˆ‘å°±æ”¹è´´ä¸Šæˆ‘æœ¬åœ°çš„ go æºä»£ç ã€‚ æ‰€æœ‰å›¾ç‰‡éƒ½æ¥æºäºåŸæ–‡ï¼ŒåŸæ–‡åœ°å€åœ¨æœ€ä¸‹é¢å‚è€ƒæ–‡çŒ®ä¸­åˆ—å‡ºã€‚ é»˜å†™åŠ æŠ„å†™ æœ¬æ–‡ä»¥ go å†…å­˜ç®¡ç†ä¸ºåˆ‡å…¥ç‚¹ï¼Œå†åˆ° go åƒåœ¾å›æ”¶ï¼Œç³»ç»Ÿçš„è®²è§£äº† go è‡ªåŠ¨å†…å­˜ç®¡ç†ç³»ç»Ÿçš„è®¾è®¡å’ŒåŸç†ã€‚\nä¸€ã€TCMalloc go çš„å†…å­˜ç®¡ç†å€Ÿé‰´äº† TCMalloc çš„è®¾è®¡æ€æƒ³ï¼ŒTCMalloc å…¨ç§° Thread-Caching Mallocï¼Œ æ˜¯ google å¼€å‘çš„å†…å­˜åˆ†é…å™¨ï¼Œä¸ºäº†æ–¹ä¾¿ç†è§£ go çš„å†…å­˜ç®¡ç†ï¼Œæœ‰å¿…è¦å…ˆç†Ÿæ‚‰ä¸‹ TCMallocã€‚\n(ä¸€) Page æ“ä½œç³»ç»Ÿå¯¹å†…å­˜çš„ç®¡ç†ä»¥é¡µä¸ºå•ä½ï¼ŒTCMalloc ä¹Ÿæ˜¯è¿™æ ·ï¼Œ åªä¸è¿‡ TCMalloc é‡Œçš„ Page å¤§å°ä¸æ“ä½œç³»ç»Ÿé‡Œçš„å¤§å°ä¸ä¸€å®šç›¸ç­‰ï¼Œæ˜¯å€æ•°çš„å…³ç³»ã€‚\n(äºŒ) Span ä¸€ç»„è¿ç»­çš„ Page ç§°ä¸º Spanï¼Œæ¯”å¦‚å¯ä»¥æœ‰ 4 ä¸ªé¡µå¤§å°çš„ Spanï¼Œä¹Ÿå¯ä»¥æœ‰ 8 ä¸ªé¡µå¤§å°çš„ Spanã€‚ Span æ¯” Page é«˜ä¸€ä¸ªå±‚çº§ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿ç®¡ç†ä¸€å®šå¤§å°çš„å†…å­˜åŒºåŸŸï¼Œ Span æ˜¯ TCMalloc ä¸­å†…å­˜ç®¡ç†çš„åŸºæœ¬å•ä½ã€‚","title":"Golangå†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶"},{"content":"æ€»ç»“ go çš„ Mutex ä¸æ”¯æŒå¯é‡å…¥ï¼Œ å› ä¸ºå®ƒçš„å®ç°é‡Œæ²¡æœ‰è®°å½•å“ªä¸ª goroutine æ‹¥æœ‰è¿™æŠŠé”ï¼Œæ‰€ä»¥è¦å®ç°ä¸€ä¸ªå¯é‡å…¥çš„é”ï¼Œ å…³é”®åœ¨äºè¦èƒ½è®°å½•å“ªä¸ª goroutine æ‹¥æœ‰é”ï¼Œä¸”è¦è®°å½•é‡å…¥æ¬¡æ•°ã€‚\nè¦è®°å½•æ‹¥æœ‰é”çš„ goroutineï¼Œæœ‰ä¸¤ä¸ªæ–¹æ¡ˆï¼š\nè·å– goroutine idï¼Œæ¥è®°å½•å“ªä¸ª goroutine è·å–äº†é”ã€‚ ç”±è°ƒç”¨æ–¹çš„ goroutine æä¾›ä¸€ä¸ª tokenï¼Œæ¥æ ‡è¯†å®ƒè‡ªå·±ã€‚ å¯¹äºæ–¹æ¡ˆä¸€ï¼Œè·å– goroutine id æœ‰ä¸¤ç§æ–¹å¼ã€‚\nç¬¬ä¸€ç§æ˜¯é€šè¿‡ runtime.Stack() è·å–ã€‚\nfunc GoId() int64 { var buf [64]byte n := runtime.Stack(buf[:], false) s := strings.TrimPrefix(string(buf[:n]), \u0026#34;goroutine \u0026#34;) idField := strings.Fields(s)[0] id, err := strconv.Atoi(idField) if err != nil { panic(fmt.Sprintf(\u0026#34;cannot get goroutine id: %v\\n\u0026#34;, err)) } return int64(id) } å¦ä¸€ç§æ˜¯é€šè¿‡ hacker æ–¹å¼è·å–ã€‚æ­¤æ–¹å¼å¤§è‡´é€šè¿‡ä»¥ä¸‹ä¸‰æ­¥æ¥è·å– goroutine idï¼š\nè·å–å½“å‰ goroutine çš„ TLS å¯¹è±¡ ä» TLS å¯¹è±¡ä¸­è·å– goroutine ç»“æ„çš„ g æŒ‡é’ˆ ä» g æŒ‡é’ˆä¸­å–å‡º goroutine id ç”±äºä¸åŒ go ç‰ˆæœ¬çš„ goroutine ç»“æ„ä¸åŒï¼Œ è¦ææ¸…æ¥šä¸åŒç‰ˆæœ¬çš„ goroutine ç»“æ„å·®å¼‚ï¼Œæ‰€æ¶‰åŠå†…å®¹è¿‡äºåº•å±‚ä¸”å¤æ‚ï¼Œ æ‰€ä»¥ç›´æ¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ¥è·å– goroutine id å³å¯ã€‚ è¿™é‡Œæ¨èä½¿ç”¨ pertermattis/goid\nä»£ç å®ç° æ¥ä¸‹æ¥ç”¨æ–¹æ¡ˆä¸€æ¥å®ç°ä¸€ä¸ªå¯é‡å…¥é”ã€‚\npackage recursive_mutex import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/petermattis/goid\u0026#34; \u0026#34;runtime\u0026#34; \u0026#34;strconv\u0026#34; \u0026#34;strings\u0026#34; \u0026#34;sync\u0026#34; \u0026#34;sync/atomic\u0026#34; ) type RecursiveMutex struct { sync.Mutex owner int64 // å½“å‰æŒæœ‰é”çš„ goroutine id recursion int32 // å½“å‰æŒæœ‰é”çš„ goroutine çš„é‡å…¥æ¬¡æ•° } func (m *RecursiveMutex) Lock() { gid := goid.Get() if atomic.LoadInt64(\u0026amp;m.owner) == gid { // å½“å‰æŒæœ‰é”çš„ goroutine å°±æ˜¯æœ¬æ¬¡è°ƒç”¨çš„ goroutineï¼Œè¯´æ˜æ˜¯é‡å…¥ m.recursion++ return } m.Mutex.Lock() // è·å¾—é”çš„ goroutine ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œè®°ä¸‹å®ƒçš„ idï¼Œè°ƒç”¨æ¬¡æ•°åŠ ä¸€ atomic.StoreInt64(\u0026amp;m.owner, gid) m.recursion = 1 } func (m *RecursiveMutex) Unlock() { gid := goid.Get() if atomic.LoadInt64(\u0026amp;m.owner) != gid { // éå½“å‰æŒæœ‰é”çš„ goroutine å°è¯•é‡Šæ”¾é”ï¼Œpanic panic(fmt.Sprintf(\u0026#34;curr %d, not owner %d\\n\u0026#34;, gid, m.owner)) } m.recursion-- if m.recursion \u0026gt; 0 { // æŒæœ‰é”çš„ goroutine è¿˜æ²¡å®Œå…¨é‡Šæ”¾ï¼Œç›´æ¥è¿”å› return } atomic.StoreInt64(\u0026amp;m.owner, -1) m.Mutex.Unlock() } ç¬¬äºŒç§æä¾› token çš„å®ç°æ–¹å¼å’Œç¬¬ä¸€ç§ä¸€æ ·ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹æˆ‘çš„ github é¡¹ç›® https://github.com/theone-daxia/recursive-mutex\næ–‡çŒ® æå®¢æ—¶é—´-Goå¹¶å‘ç¼–ç¨‹å®æˆ˜è¯¾ï¼ˆé¸Ÿçªï¼‰ ","permalink":"https://theone-daxia.github.io/blog/code/go/recursive-mutex/","summary":"æ€»ç»“ go çš„ Mutex ä¸æ”¯æŒå¯é‡å…¥ï¼Œ å› ä¸ºå®ƒçš„å®ç°é‡Œæ²¡æœ‰è®°å½•å“ªä¸ª goroutine æ‹¥æœ‰è¿™æŠŠé”ï¼Œæ‰€ä»¥è¦å®ç°ä¸€ä¸ªå¯é‡å…¥çš„é”ï¼Œ å…³é”®åœ¨äºè¦èƒ½è®°å½•å“ªä¸ª goroutine æ‹¥æœ‰é”ï¼Œä¸”è¦è®°å½•é‡å…¥æ¬¡æ•°ã€‚\nè¦è®°å½•æ‹¥æœ‰é”çš„ goroutineï¼Œæœ‰ä¸¤ä¸ªæ–¹æ¡ˆï¼š\nè·å– goroutine idï¼Œæ¥è®°å½•å“ªä¸ª goroutine è·å–äº†é”ã€‚ ç”±è°ƒç”¨æ–¹çš„ goroutine æä¾›ä¸€ä¸ª tokenï¼Œæ¥æ ‡è¯†å®ƒè‡ªå·±ã€‚ å¯¹äºæ–¹æ¡ˆä¸€ï¼Œè·å– goroutine id æœ‰ä¸¤ç§æ–¹å¼ã€‚\nç¬¬ä¸€ç§æ˜¯é€šè¿‡ runtime.Stack() è·å–ã€‚\nfunc GoId() int64 { var buf [64]byte n := runtime.Stack(buf[:], false) s := strings.TrimPrefix(string(buf[:n]), \u0026#34;goroutine \u0026#34;) idField := strings.Fields(s)[0] id, err := strconv.Atoi(idField) if err != nil { panic(fmt.Sprintf(\u0026#34;cannot get goroutine id: %v\\n\u0026#34;, err)) } return int64(id) } å¦ä¸€ç§æ˜¯é€šè¿‡ hacker æ–¹å¼è·å–ã€‚æ­¤æ–¹å¼å¤§è‡´é€šè¿‡ä»¥ä¸‹ä¸‰æ­¥æ¥è·å– goroutine idï¼š","title":"goå®ç°å¯é‡å…¥é”"},{"content":"åœ¨æŸ¥çœ‹ Mutex æºç ä¸­ï¼Œçœ‹åˆ°äº† \u0026amp;^ è¿™ä¸ªè¿ç®—ç¬¦ï¼Œ æ²¡è§è¿‡ï¼Œå°±å»æŸ¥äº†æŸ¥ã€‚\nå«ä¹‰ æŒ‰ä½æ¸…é›¶\nå³ï¼š\nè¿ç®—ç¬¦å³è¾¹æ•°å­—äºŒè¿›åˆ¶ä¸º1çš„ä½ç½®ï¼Œå·¦è¾¹æ•°å­—äºŒè¿›åˆ¶å¯¹åº”ä½ç½®ç½®0 è¿ç®—ç¬¦å³è¾¹æ•°å­—äºŒè¿›åˆ¶ä¸º0çš„ä½ç½®ï¼Œå·¦è¾¹æ•°å­—äºŒè¿›åˆ¶å¯¹åº”ä½ç½®ä¿ç•™ ç¤ºä¾‹ a := 10 b := 2 res := a \u0026amp;^ b fmt.Printf(\u0026#34;a = %b(%d)\\n\u0026#34;, a, a) // a = 1010(10) fmt.Printf(\u0026#34;b = %b(%d)\\n\u0026#34;, b, b) // b = 10(2) fmt.Printf(\u0026#34;res = %b(%d)\\n\u0026#34;, res, res) // res = 1000(8) ","permalink":"https://theone-daxia.github.io/blog/code/go/bit-clear/","summary":"åœ¨æŸ¥çœ‹ Mutex æºç ä¸­ï¼Œçœ‹åˆ°äº† \u0026amp;^ è¿™ä¸ªè¿ç®—ç¬¦ï¼Œ æ²¡è§è¿‡ï¼Œå°±å»æŸ¥äº†æŸ¥ã€‚\nå«ä¹‰ æŒ‰ä½æ¸…é›¶\nå³ï¼š\nè¿ç®—ç¬¦å³è¾¹æ•°å­—äºŒè¿›åˆ¶ä¸º1çš„ä½ç½®ï¼Œå·¦è¾¹æ•°å­—äºŒè¿›åˆ¶å¯¹åº”ä½ç½®ç½®0 è¿ç®—ç¬¦å³è¾¹æ•°å­—äºŒè¿›åˆ¶ä¸º0çš„ä½ç½®ï¼Œå·¦è¾¹æ•°å­—äºŒè¿›åˆ¶å¯¹åº”ä½ç½®ä¿ç•™ ç¤ºä¾‹ a := 10 b := 2 res := a \u0026amp;^ b fmt.Printf(\u0026#34;a = %b(%d)\\n\u0026#34;, a, a) // a = 1010(10) fmt.Printf(\u0026#34;b = %b(%d)\\n\u0026#34;, b, b) // b = 10(2) fmt.Printf(\u0026#34;res = %b(%d)\\n\u0026#34;, res, res) // res = 1000(8) ","title":"\u0026^ è¿ç®—ç¬¦"},{"content":"ä¸‹é¢çš„ MyMutex å³é€šè¿‡åŸå­æ“ä½œå®ç°äº† Locker æ¥å£ã€‚\nåªæ˜¯ç®€æ˜“å®ç°ï¼Œå®é™…çš„ Mutex è¿˜ä¼šè€ƒè™‘åˆ°ç»™ æ–°æ¥çš„goroutineã€ç­‰å¾…çš„goroutineæ›´å¤šæœºä¼šï¼Œ è¿˜æœ‰é¥¥é¥¿å¤„ç†ï¼ˆ1msåï¼‰ï¼Œé˜²æ­¢é˜Ÿå°¾çš„goroutineæ€»æ˜¯å¾—ä¸åˆ°é”ã€‚\npackage test import ( \u0026#34;sync\u0026#34; \u0026#34;sync/atomic\u0026#34; \u0026#34;testing\u0026#34; ) type MyMutex struct { key int32 } func (m *MyMutex)Lock() { for !atomic.CompareAndSwapInt32(\u0026amp;m.key, 0, 1) { } } func (m *MyMutex)Unlock() { atomic.StoreInt32(\u0026amp;m.key, 0) } func TestMutex(t *testing.T) { var count = 0 var wg sync.WaitGroup var myMux = MyMutex{} wg.Add(10) for i := 0; i \u0026lt; 10; i++ { go func() { defer wg.Done() for i := 0; i \u0026lt; 10000; i++ { myMux.Lock() count++ myMux.Unlock() } }() } wg.Wait() t.Log(count) } ","permalink":"https://theone-daxia.github.io/blog/code/go/atomic/","summary":"ä¸‹é¢çš„ MyMutex å³é€šè¿‡åŸå­æ“ä½œå®ç°äº† Locker æ¥å£ã€‚\nåªæ˜¯ç®€æ˜“å®ç°ï¼Œå®é™…çš„ Mutex è¿˜ä¼šè€ƒè™‘åˆ°ç»™ æ–°æ¥çš„goroutineã€ç­‰å¾…çš„goroutineæ›´å¤šæœºä¼šï¼Œ è¿˜æœ‰é¥¥é¥¿å¤„ç†ï¼ˆ1msåï¼‰ï¼Œé˜²æ­¢é˜Ÿå°¾çš„goroutineæ€»æ˜¯å¾—ä¸åˆ°é”ã€‚\npackage test import ( \u0026#34;sync\u0026#34; \u0026#34;sync/atomic\u0026#34; \u0026#34;testing\u0026#34; ) type MyMutex struct { key int32 } func (m *MyMutex)Lock() { for !atomic.CompareAndSwapInt32(\u0026amp;m.key, 0, 1) { } } func (m *MyMutex)Unlock() { atomic.StoreInt32(\u0026amp;m.key, 0) } func TestMutex(t *testing.T) { var count = 0 var wg sync.WaitGroup var myMux = MyMutex{} wg.Add(10) for i := 0; i \u0026lt; 10; i++ { go func() { defer wg.","title":"åŸå­æ“ä½œå®ç°äº’æ–¥é”"},{"content":"æ•°ç»„æŠ€å·§ å‰ç¼€å’Œ é€‚ç”¨åœºæ™¯\né€‚ç”¨äºåŸå§‹æ•°ç»„ä¸ä¼šè¢«ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼Œé¢‘ç¹çš„æŸ¥è¯¢æŸä¸ªåŒºé—´çš„ç´¯åŠ å’Œã€‚\næ„é€ æ–¹å¼\nnums := []int{1,2,3} preSum := make([]int, len(nums)+1) for i := 1; i \u0026lt; len(nums); i++ { preSum[i] = preSum[i-1] + nums[i-1] } é¢˜ç›®æ¨èï¼ˆleetcodeï¼‰\n303. åŒºåŸŸå’Œæ£€ç´¢-æ•°ç»„ä¸å¯å˜ 304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢-çŸ©é˜µä¸å¯å˜ å·®åˆ†æ•°ç»„ é€‚ç”¨åœºæ™¯\né€‚ç”¨äºé¢‘ç¹å¯¹åŸå§‹æ•°ç»„æŸä¸ªåŒºé—´çš„å…ƒç´ è¿›è¡Œå¢å‡ã€‚\næ„é€ æ–¹å¼\nnums := []int{1,2,3,4,5} diff := make([]int, len(nums)) diff[0] = nums[0] for i := 1; i \u0026lt; len(nums); i++ { diff[i] = nums[i] - nums[i-1] } // å¦‚æœè¦å¯¹åŸå§‹æ•°ç»„ä¸‹æ ‡ 1-3 åŒºé—´çš„å…ƒç´ éƒ½åŠ  2ï¼Œåªéœ€åšå¦‚ä¸‹ä¸¤æ­¥æ“ä½œ diff[1] += 2 diff[4] -= 2 // æœ€åæ ¹æ® diff æ¥æ„é€ æ›´æ–°ååŸå§‹æ•°ç»„ res := make([]int, len(diff)) res[0] = diff[0] for i := 1; i \u0026lt; len(diff); i++ { res[i] = res[i-1] + diff[i] } é¢˜ç›®æ¨èï¼ˆleetcodeï¼‰\n1094. æ‹¼è½¦ 1109. èˆªç­é¢„è®¢ç»Ÿè®¡ æ»‘åŠ¨çª—å£ é€‚ç”¨åœºæ™¯\né€‚ç”¨äºèƒ½å›ç­”å‡ºä»¥ä¸‹ 3 ç‚¹é—®é¢˜çš„å­ä¸²ã€å­æ•°ç»„é—®é¢˜ï¼š\nä»€ä¹ˆæ—¶å€™æ‰©å¤§çª—å£ï¼Ÿ ä»€ä¹ˆæ—¶å€™ç¼©å°çª—å£ï¼Ÿ ä»€ä¹ˆæ—¶å€™æ›´æ–°ç»“æœï¼Ÿ ä»£ç æ¡†æ¶\nleft, right := 0, 0 for right \u0026lt; len(s) { in := s[right] right++ // æ‰©å¤§çª—å£ ... // çª—å£æ•°æ®æ›´æ–° for { out := s[left] left++ // ç¼©å°çª—å£ ... // çª—å£æ•°æ®æ›´æ–° } } é¢˜ç›®æ¨èï¼ˆleetcodeï¼‰\n3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² 76. æœ€å°è¦†ç›–å­ä¸² 209. é•¿åº¦æœ€å°çš„å­æ•°ç»„ 219. å­˜åœ¨é‡å¤å…ƒç´  II 220. å­˜åœ¨é‡å¤å…ƒç´  III 395. è‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² 424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦ 438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯ 567. å­—ç¬¦ä¸²çš„æ’åˆ— 713. ä¹˜ç§¯å°äºKçš„å­æ•°ç»„ 862. å’Œè‡³å°‘ä¸º K çš„æœ€çŸ­å­æ•°ç»„ 1004. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III 1438. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„ åŠ¨æ€è§„åˆ’ é€‚ç”¨åœºæ™¯\næ±‚æœ€å€¼é—®é¢˜ï¼Œä¸”å…·å¤‡æœ€ä¼˜å­ç»“æ„ï¼Œå³èƒ½é€šè¿‡å­é—®é¢˜çš„æœ€å€¼å¾—åˆ°åŸé—®é¢˜çš„æœ€å€¼ã€‚\nä¸‰è¦ç´ ï¼šæœ€ä¼˜å­ç»“æ„ã€é‡å å­é—®é¢˜ã€çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚\næ¡†æ¶\næ˜ç¡® base case æ˜ç¡®çŠ¶æ€ï¼ˆåŸé—®é¢˜å’Œå­é—®é¢˜ä¸­ä¼šå˜åŒ–çš„å˜é‡ï¼‰ æ˜ç¡®é€‰æ‹©ï¼ˆå¯¼è‡´çŠ¶æ€äº§ç”Ÿå˜åŒ–çš„è¡Œä¸ºï¼‰ å®šä¹‰dpæ•°ç»„/å‡½æ•°çš„å«ä¹‰ è‡ªé¡¶å‘ä¸‹ï¼šä¼šå­˜åœ¨ä¸€ä¸ªé€’å½’çš„ dp å‡½æ•° è‡ªåº•å‘ä¸Šï¼šä¼šå­˜åœ¨ä¸€ä¸ª dp æ•°ç»„ é¢˜ç›®æ¨èï¼ˆleetcodeï¼‰\n322. é›¶é’±å…‘æ¢ 509. æ–æ³¢é‚£å¥‘æ•°\nå›æº¯ç®—æ³• é€‚ç”¨åœºæ™¯\næ’åˆ—ã€ç»„åˆã€å­é›†é—®é¢˜ã€‚\næ€è·¯ï¼šè§£å†³ä¸€ä¸ªå›æº¯é—®é¢˜ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå†³ç­–æ ‘çš„éå†è¿‡ç¨‹ï¼Œç«™åœ¨å†³ç­–æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œä½ åªéœ€è¦æ€è€ƒ 3 ä¸ªé—®é¢˜ï¼š\nè·¯å¾„ï¼šå·²ä½œå‡ºçš„é€‰æ‹© é€‰æ‹©åˆ—è¡¨ï¼šå½“å‰å¯ä»¥åšçš„é€‰æ‹© ç»“æŸæ¡ä»¶ï¼šåˆ°è¾¾å†³ç­–æ ‘çš„åº•å±‚ï¼Œæ— æ³•å†åšé€‰æ‹©çš„æ¡ä»¶ æ¡†æ¶\nres := [][]int{} backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨) { if æ»¡è¶³ç»“æŸæ¡ä»¶ { res = append(res, è·¯å¾„) } for é€‰æ‹©åˆ—è¡¨ { åšé€‰æ‹© backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨) æ’¤é”€é€‰æ‹© } } é¢˜ç›®æ¨èï¼ˆleetcodeï¼‰\n46. å…¨æ’åˆ— 51. N çš‡å 77. ç»„åˆ 78. å­é›† ","permalink":"https://theone-daxia.github.io/blog/code/algorithm/thinking/","summary":"æ•°ç»„æŠ€å·§ å‰ç¼€å’Œ é€‚ç”¨åœºæ™¯\né€‚ç”¨äºåŸå§‹æ•°ç»„ä¸ä¼šè¢«ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼Œé¢‘ç¹çš„æŸ¥è¯¢æŸä¸ªåŒºé—´çš„ç´¯åŠ å’Œã€‚\næ„é€ æ–¹å¼\nnums := []int{1,2,3} preSum := make([]int, len(nums)+1) for i := 1; i \u0026lt; len(nums); i++ { preSum[i] = preSum[i-1] + nums[i-1] } é¢˜ç›®æ¨èï¼ˆleetcodeï¼‰\n303. åŒºåŸŸå’Œæ£€ç´¢-æ•°ç»„ä¸å¯å˜ 304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢-çŸ©é˜µä¸å¯å˜ å·®åˆ†æ•°ç»„ é€‚ç”¨åœºæ™¯\né€‚ç”¨äºé¢‘ç¹å¯¹åŸå§‹æ•°ç»„æŸä¸ªåŒºé—´çš„å…ƒç´ è¿›è¡Œå¢å‡ã€‚\næ„é€ æ–¹å¼\nnums := []int{1,2,3,4,5} diff := make([]int, len(nums)) diff[0] = nums[0] for i := 1; i \u0026lt; len(nums); i++ { diff[i] = nums[i] - nums[i-1] } // å¦‚æœè¦å¯¹åŸå§‹æ•°ç»„ä¸‹æ ‡ 1-3 åŒºé—´çš„å…ƒç´ éƒ½åŠ  2ï¼Œåªéœ€åšå¦‚ä¸‹ä¸¤æ­¥æ“ä½œ diff[1] += 2 diff[4] -= 2 // æœ€åæ ¹æ® diff æ¥æ„é€ æ›´æ–°ååŸå§‹æ•°ç»„ res := make([]int, len(diff)) res[0] = diff[0] for i := 1; i \u0026lt; len(diff); i++ { res[i] = res[i-1] + diff[i] } é¢˜ç›®æ¨èï¼ˆleetcodeï¼‰","title":"ç®—æ³•æ€ç»´æ¡†æ¶"},{"content":"é¡¹ç›®åˆ—è¡¨ ã€æ˜Ÿé€‰ç¾æ¬¡å¡ã€‘ä¹°ä¸€èµ ä¸€M221æ¬¡å¡ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘299å…ƒ\næ¯›å­”ç²—å¤§ï¼Œè‚¤è‰²ä¸å‡ï¼ŸM22å…¨æ¨¡å¼è¿›å£å…‰å­å«©è‚¤â€”â€”ç¾ç™½å«©è‚¤ç•Œçš„ä½¼ä½¼è€…ï¼Œç›®å‰å‚ä¸å†…è´­è¿˜å¯äº«å—ä¹°ä¸€èµ ä¸€ï¼Œå¿«æ¥ä¸‹å•å§ï¼é¡¹ç›®åŸç†æˆ³é“¾æ¥äº†è§£\nã€ä¸“äº«ã€‘è²æ¬§æ›¼å¤åˆ+åŸºç¡€æ°´å…‰/3æ¬¡/ç¾ç™½ ï¼ˆç¾æ¬¡å¡é™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘6000å…ƒ\nã€åˆ°æ‰‹ä»·ã€‘3600å…ƒ\nå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦æ°´å…‰ï¼Œä½†æ˜¯åˆä¸çŸ¥é“é€‰ä»€ä¹ˆç»„åˆå’Œå“ç‰Œï¼Œé‚£ä¹ˆçœŸå¿ƒæ¨èä»è¿™ä¸ªç»„åˆå¼€å§‹ï¼Œè¡¥æ°´æäº®æŠ—è¡°ç¾ç™½ç„•è‚¤ï¼é‡è¦çš„æ˜¯å†…è´­ä»·æ ¼ä»…éœ€ï¿¥3600ï¼\nã€ä¸“äº«ã€‘çº¢è“å…‰ç¥›ç—˜ ä¹°1èµ 1ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘10å…ƒ\nçº¢è“å…‰ç¥›ç—˜ï¼Œå¼ºçƒˆå®‰åˆ©ç»™å¤§å®¶ï¼è“å…‰æŠ‘èŒï¼Œçº¢å…‰åŠ é€Ÿä¿®å¤ï¼Œæœ‰ç²‰åˆºé—­å£ç—˜ç—˜è‚Œçš„å§å¦¹å¿«å¿«å®‰æ’å§ï¼é¡¹ç›®åŸç†æˆ³é“¾æ¥äº†è§£\nã€ä¸“äº«ã€‘è¶…çˆ†é»‘é’»å¡å«æ¬§æ´²ä¹‹æ˜Ÿ|AOPT|è¶…çš®ç§’|å—¨ä½“ç­‰ 10é€‰8ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘4665å…ƒ\nã€åˆ°æ‰‹ä»·ã€‘2799å…ƒ\nå¿…Buy Topå…»è‚¤å…¨å¥—ï¼æ¸…æ´+æ°´å…‰è¡¥æ°´+æœé…¸æ¢è‚¤+ç´§è‡´çš®è‚¤+ç¥›é™¤çš±çº¹+æ·¡æ–‘ç¾ç™½+æŠ—è¡°å«©è‚¤ï¼Œ10é€‰8ï¼Œå¥—é¤éšå¿ƒæ­é…ï¼Œå†…è´­ä»·2799ï¼Œå¿ƒåŠ¨ä¸å¦‚è¡ŒåŠ¨ï¼é¡¹ç›®åŸç†æˆ³é“¾æ¥äº†è§£\nã€ä¸“äº«ã€‘å°ç™½ç¦åˆ©å¡å«M22|å¥‡è‡´CCå…‰|æœé…¸ç„•è‚¤ç­‰ 6é€‰4ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘332å…ƒ\nã€åˆ°æ‰‹ä»·ã€‘199å…ƒ\næ”¹å–„é»‘å¤´ç²‰åˆºï¼Œå‡€è‚¤ç»†è‡´æ¯›å­”çš„æ€¥æ•‘ç‹ï¼Œç†¬å¤œä¹Ÿå‘å…‰ï¼ç¾è‚¤å¥—å¡ç»™ä½ ä¸€ç«™å¼çš®è‚¤æŠ¤ç†ï¼Œåªéœ€199å³å¯äº«å—4ç§å˜ç¾å°ç»æ‹›~ é¡¹ç›®åŸç†æˆ³é“¾æ¥äº†è§£\nã€ä¸“äº«ã€‘CO2å‰¥è„±ç‚¹é˜µ æ·¡åŒ–ç—˜å°ç—˜å‘ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘399å…ƒ\nè¿˜åœ¨ä¸ºç—˜å‘ç—˜å°çƒ¦æ¼ï¼Ÿç‚¹é˜µæ¿€å…‰å¦¥å¦¥çš„å®‰æ’ä¸Šï¼ä¸“é—¨é’ˆå¯¹å‡¹é™·æ€§ç—˜å‘ç—˜å°æ²»ç–—ï¼ŒCO2å‰¥è„±ç‚¹é˜µï¼Œä½ å€¼å¾—æ‹¥æœ‰~ é¡¹ç›®åŸç†æˆ³é“¾æ¥äº†è§£\nã€ç¾æ¬¡å¡ã€‘å›½äº§é™¤çš±å•éƒ¨ä½ç¥›é±¼å°¾çº¹çœ‰é—´çº¹æŠ¬å¤´çº¹ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘159å…ƒ\nã€ç¾æ¬¡å¡ã€‘å†°ç‚¹è„±æ¯› è…‹ä¸‹å¤§è‡‚å°è‡‚å°è…¿å”‡æ¯›çœ‰å¿ƒ 6é€‰1ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘39å…ƒ\nã€ç¾æ¬¡å¡ã€‘æœé…¸ç„•è‚¤æ¸…æ´ç¥›ç—˜æ”¹å–„é—­å£ç—¤ç–®ç—˜è‚Œå‹å¥½ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘69å…ƒ\n","permalink":"https://theone-daxia.github.io/blog/medical_beauty/project/","summary":"é¡¹ç›®åˆ—è¡¨ ã€æ˜Ÿé€‰ç¾æ¬¡å¡ã€‘ä¹°ä¸€èµ ä¸€M221æ¬¡å¡ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘299å…ƒ\næ¯›å­”ç²—å¤§ï¼Œè‚¤è‰²ä¸å‡ï¼ŸM22å…¨æ¨¡å¼è¿›å£å…‰å­å«©è‚¤â€”â€”ç¾ç™½å«©è‚¤ç•Œçš„ä½¼ä½¼è€…ï¼Œç›®å‰å‚ä¸å†…è´­è¿˜å¯äº«å—ä¹°ä¸€èµ ä¸€ï¼Œå¿«æ¥ä¸‹å•å§ï¼é¡¹ç›®åŸç†æˆ³é“¾æ¥äº†è§£\nã€ä¸“äº«ã€‘è²æ¬§æ›¼å¤åˆ+åŸºç¡€æ°´å…‰/3æ¬¡/ç¾ç™½ ï¼ˆç¾æ¬¡å¡é™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘6000å…ƒ\nã€åˆ°æ‰‹ä»·ã€‘3600å…ƒ\nå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦æ°´å…‰ï¼Œä½†æ˜¯åˆä¸çŸ¥é“é€‰ä»€ä¹ˆç»„åˆå’Œå“ç‰Œï¼Œé‚£ä¹ˆçœŸå¿ƒæ¨èä»è¿™ä¸ªç»„åˆå¼€å§‹ï¼Œè¡¥æ°´æäº®æŠ—è¡°ç¾ç™½ç„•è‚¤ï¼é‡è¦çš„æ˜¯å†…è´­ä»·æ ¼ä»…éœ€ï¿¥3600ï¼\nã€ä¸“äº«ã€‘çº¢è“å…‰ç¥›ç—˜ ä¹°1èµ 1ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘10å…ƒ\nçº¢è“å…‰ç¥›ç—˜ï¼Œå¼ºçƒˆå®‰åˆ©ç»™å¤§å®¶ï¼è“å…‰æŠ‘èŒï¼Œçº¢å…‰åŠ é€Ÿä¿®å¤ï¼Œæœ‰ç²‰åˆºé—­å£ç—˜ç—˜è‚Œçš„å§å¦¹å¿«å¿«å®‰æ’å§ï¼é¡¹ç›®åŸç†æˆ³é“¾æ¥äº†è§£\nã€ä¸“äº«ã€‘è¶…çˆ†é»‘é’»å¡å«æ¬§æ´²ä¹‹æ˜Ÿ|AOPT|è¶…çš®ç§’|å—¨ä½“ç­‰ 10é€‰8ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘4665å…ƒ\nã€åˆ°æ‰‹ä»·ã€‘2799å…ƒ\nå¿…Buy Topå…»è‚¤å…¨å¥—ï¼æ¸…æ´+æ°´å…‰è¡¥æ°´+æœé…¸æ¢è‚¤+ç´§è‡´çš®è‚¤+ç¥›é™¤çš±çº¹+æ·¡æ–‘ç¾ç™½+æŠ—è¡°å«©è‚¤ï¼Œ10é€‰8ï¼Œå¥—é¤éšå¿ƒæ­é…ï¼Œå†…è´­ä»·2799ï¼Œå¿ƒåŠ¨ä¸å¦‚è¡ŒåŠ¨ï¼é¡¹ç›®åŸç†æˆ³é“¾æ¥äº†è§£\nã€ä¸“äº«ã€‘å°ç™½ç¦åˆ©å¡å«M22|å¥‡è‡´CCå…‰|æœé…¸ç„•è‚¤ç­‰ 6é€‰4ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘332å…ƒ\nã€åˆ°æ‰‹ä»·ã€‘199å…ƒ\næ”¹å–„é»‘å¤´ç²‰åˆºï¼Œå‡€è‚¤ç»†è‡´æ¯›å­”çš„æ€¥æ•‘ç‹ï¼Œç†¬å¤œä¹Ÿå‘å…‰ï¼ç¾è‚¤å¥—å¡ç»™ä½ ä¸€ç«™å¼çš®è‚¤æŠ¤ç†ï¼Œåªéœ€199å³å¯äº«å—4ç§å˜ç¾å°ç»æ‹›~ é¡¹ç›®åŸç†æˆ³é“¾æ¥äº†è§£\nã€ä¸“äº«ã€‘CO2å‰¥è„±ç‚¹é˜µ æ·¡åŒ–ç—˜å°ç—˜å‘ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘399å…ƒ\nè¿˜åœ¨ä¸ºç—˜å‘ç—˜å°çƒ¦æ¼ï¼Ÿç‚¹é˜µæ¿€å…‰å¦¥å¦¥çš„å®‰æ’ä¸Šï¼ä¸“é—¨é’ˆå¯¹å‡¹é™·æ€§ç—˜å‘ç—˜å°æ²»ç–—ï¼ŒCO2å‰¥è„±ç‚¹é˜µï¼Œä½ å€¼å¾—æ‹¥æœ‰~ é¡¹ç›®åŸç†æˆ³é“¾æ¥äº†è§£\nã€ç¾æ¬¡å¡ã€‘å›½äº§é™¤çš±å•éƒ¨ä½ç¥›é±¼å°¾çº¹çœ‰é—´çº¹æŠ¬å¤´çº¹ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘159å…ƒ\nã€ç¾æ¬¡å¡ã€‘å†°ç‚¹è„±æ¯› è…‹ä¸‹å¤§è‡‚å°è‡‚å°è…¿å”‡æ¯›çœ‰å¿ƒ 6é€‰1ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘39å…ƒ\nã€ç¾æ¬¡å¡ã€‘æœé…¸ç„•è‚¤æ¸…æ´ç¥›ç—˜æ”¹å–„é—­å£ç—¤ç–®ç—˜è‚Œå‹å¥½ï¼ˆé™åŒ—äº¬ï¼‰\nã€åœ¨å”®ä»·ã€‘69å…ƒ","title":"æ–°æ°§å¹³å°åŒ»ç¾ç¦åˆ©æŠ˜æ‰£é¡¹ç›®"},{"content":" ä¸€ç‰‡äº‘è½å…¥æŒå¿ƒ æ¸ºæ¸ºä¸‡é‡Œä½•å¤„å» åªè®°å–ç¦»åˆ«æ—¶çš„ä½  ä»å¹´å°‘æ„æ°” è½¬èº«è¿‡ä¸€å…¥å¤©é™… æ„¿æˆ‘å¦‚é‚£æ—¶çš„é£ æ‹‚å»å°˜ä¸–ä¿—åè½»æ‹¥ç€ä½  ç¢§è½ç®«å£°å¹å°½ æ²§æµ·ä¸€é‡å´éš¾æ‰¾å¯» å‰è·¯å´‡å±±å³»å²­ä¸å†æœ‰ä½ åŒè¡Œ çºµä½¿å¾®èŒ«å¦‚çƒŸçºµæœ‰ä¸‡èˆ¬æ€å¿µ æµå…‰æ€»å°†æ•…äººææµ…åœ¨æ–­ç®€æ®‹ç¯‡ ä¸æˆçœ  ä¸ç­‰è°æ¥è¯æ˜ä¸å¿…ç‹‚æ­Œç—›é¥® å”¯ç›¼é‡ç›¸è§ å½’æ¥æ—¶ä¸€é†‰æ˜æœˆ è¿™ç‰‡äº‘ä¸çŸ¥å½’æœŸ æ¸ºæ¸ºä¸‡é‡Œä½•å¤„å» åªè®°å–ç¦»åˆ«æ—¶çš„ä½  ä»å¹´å°‘æ„æ°” ç»å¹´è¿‡å´éš¾å¿˜è®° æ„¿æˆ‘å¦‚é‚£æ—¶çš„é£ æ‹‚å»å°˜ä¸–ä¿—åè½»æ‹¥ç€ä½  è‹ç©¹ç®«å£°å¹å°½ æ­¤ç”Ÿé­‚æ¢¦å·²é€å›å» å‰è·¯å´‡å±±å³»å²­ä¸å†æœ‰ä½ åŒè¡Œ çºµä½¿å¾®èŒ«å¦‚çƒŸçºµæœ‰ä¸‡èˆ¬æ€å¿µ æµå…‰æ€»å°†å¤äººææµ…åœ¨æ–­ç®€æ®‹ç¯‡ ä¸æˆçœ  ä¸ç­‰è°æ¥è¯æ˜ä¸å¿…ç‹‚æ­Œç—›é¥® å”¯ç›¼é‡ç›¸è§ æˆ‘å¦‚å€¦é¸Ÿå½’æ— çºµä½¿å¾®èŒ«å¦‚çƒŸçºµæœ‰ä¸‡èˆ¬æ€å¿µ æµå…‰æ€»å°†æ•…äººææµ…åœ¨æ–­ç®€æ®‹ç¯‡ ä¸æˆçœ  ä¸ç†ç™½é©¹è¿‡éš™ä¸ä¿¡ç”Ÿæ­»æœ‰å‘½ å”¯ç›¼é‡ç›¸è§ å½’æ¥æ—¶ä¸€é†‰æ˜æœˆ ","permalink":"https://theone-daxia.github.io/blog/music/doupo_s1/","summary":" ä¸€ç‰‡äº‘è½å…¥æŒå¿ƒ æ¸ºæ¸ºä¸‡é‡Œä½•å¤„å» åªè®°å–ç¦»åˆ«æ—¶çš„ä½  ä»å¹´å°‘æ„æ°” è½¬èº«è¿‡ä¸€å…¥å¤©é™… æ„¿æˆ‘å¦‚é‚£æ—¶çš„é£ æ‹‚å»å°˜ä¸–ä¿—åè½»æ‹¥ç€ä½  ç¢§è½ç®«å£°å¹å°½ æ²§æµ·ä¸€é‡å´éš¾æ‰¾å¯» å‰è·¯å´‡å±±å³»å²­ä¸å†æœ‰ä½ åŒè¡Œ çºµä½¿å¾®èŒ«å¦‚çƒŸçºµæœ‰ä¸‡èˆ¬æ€å¿µ æµå…‰æ€»å°†æ•…äººææµ…åœ¨æ–­ç®€æ®‹ç¯‡ ä¸æˆçœ  ä¸ç­‰è°æ¥è¯æ˜ä¸å¿…ç‹‚æ­Œç—›é¥® å”¯ç›¼é‡ç›¸è§ å½’æ¥æ—¶ä¸€é†‰æ˜æœˆ è¿™ç‰‡äº‘ä¸çŸ¥å½’æœŸ æ¸ºæ¸ºä¸‡é‡Œä½•å¤„å» åªè®°å–ç¦»åˆ«æ—¶çš„ä½  ä»å¹´å°‘æ„æ°” ç»å¹´è¿‡å´éš¾å¿˜è®° æ„¿æˆ‘å¦‚é‚£æ—¶çš„é£ æ‹‚å»å°˜ä¸–ä¿—åè½»æ‹¥ç€ä½  è‹ç©¹ç®«å£°å¹å°½ æ­¤ç”Ÿé­‚æ¢¦å·²é€å›å» å‰è·¯å´‡å±±å³»å²­ä¸å†æœ‰ä½ åŒè¡Œ çºµä½¿å¾®èŒ«å¦‚çƒŸçºµæœ‰ä¸‡èˆ¬æ€å¿µ æµå…‰æ€»å°†å¤äººææµ…åœ¨æ–­ç®€æ®‹ç¯‡ ä¸æˆçœ  ä¸ç­‰è°æ¥è¯æ˜ä¸å¿…ç‹‚æ­Œç—›é¥® å”¯ç›¼é‡ç›¸è§ æˆ‘å¦‚å€¦é¸Ÿå½’æ— çºµä½¿å¾®èŒ«å¦‚çƒŸçºµæœ‰ä¸‡èˆ¬æ€å¿µ æµå…‰æ€»å°†æ•…äººææµ…åœ¨æ–­ç®€æ®‹ç¯‡ ä¸æˆçœ  ä¸ç†ç™½é©¹è¿‡éš™ä¸ä¿¡ç”Ÿæ­»æœ‰å‘½ å”¯ç›¼é‡ç›¸è§ å½’æ¥æ—¶ä¸€é†‰æ˜æœˆ ","title":"ä»åˆ«å"},{"content":" æœˆå…‰å…‰ ç…§å››æ–¹ ç…§éäººé—´æ°´èŒ«èŒ« é£åˆæ€¥ æµªåˆé«˜ å¦»ç¦»å­æ•£å„ä¸€æ–¹ å±±é¥é¥ æ°´è¿¢è¿¢ ä¼šç”Ÿä¼šæ­»åœ¨ä»Šæœ å¿ƒæ…Œæ…Œ æ„èŒ«èŒ« å¤©æ¶¯æ˜æœˆä½•çšçš æœˆå…‰å…‰ ç…§å››æ–¹ ç…§éäººé—´æ°´èŒ«èŒ« é£åˆæ€¥ æµªåˆé«˜ å¦»ç¦»å­æ•£å„ä¸€æ–¹ å±±é¥é¥ æ°´è¿¢è¿¢ ä¼šç”Ÿä¼šæ­»åœ¨ä»Šæœ å¿ƒæ…Œæ…Œ æ„èŒ«èŒ« å¤©æ¶¯æ˜æœˆä½•çšçš é£ä¸€ç¨‹ é›¨ä¸€ç¨‹ å±±æ²³è·¯è¿œä¸ç›¸é€¢ é’é³å¿« ç¦»æ„æµ“ ä¸€æ¢¦é»„ç²±å¤ªåŒ†åŒ† æ±Ÿæµé˜” è¡€æµçº¢ ç™½æµªæ»”æ»”ä»»è¥¿ä¸œ æ±Ÿæ¹–æš— æ˜Ÿæ²³æ˜ è½»èˆŸæ­¤å»ä¸é¡¾åœ ","permalink":"https://theone-daxia.github.io/blog/music/chenshixing/","summary":" æœˆå…‰å…‰ ç…§å››æ–¹ ç…§éäººé—´æ°´èŒ«èŒ« é£åˆæ€¥ æµªåˆé«˜ å¦»ç¦»å­æ•£å„ä¸€æ–¹ å±±é¥é¥ æ°´è¿¢è¿¢ ä¼šç”Ÿä¼šæ­»åœ¨ä»Šæœ å¿ƒæ…Œæ…Œ æ„èŒ«èŒ« å¤©æ¶¯æ˜æœˆä½•çšçš æœˆå…‰å…‰ ç…§å››æ–¹ ç…§éäººé—´æ°´èŒ«èŒ« é£åˆæ€¥ æµªåˆé«˜ å¦»ç¦»å­æ•£å„ä¸€æ–¹ å±±é¥é¥ æ°´è¿¢è¿¢ ä¼šç”Ÿä¼šæ­»åœ¨ä»Šæœ å¿ƒæ…Œæ…Œ æ„èŒ«èŒ« å¤©æ¶¯æ˜æœˆä½•çšçš é£ä¸€ç¨‹ é›¨ä¸€ç¨‹ å±±æ²³è·¯è¿œä¸ç›¸é€¢ é’é³å¿« ç¦»æ„æµ“ ä¸€æ¢¦é»„ç²±å¤ªåŒ†åŒ† æ±Ÿæµé˜” è¡€æµçº¢ ç™½æµªæ»”æ»”ä»»è¥¿ä¸œ æ±Ÿæ¹–æš— æ˜Ÿæ²³æ˜ è½»èˆŸæ­¤å»ä¸é¡¾åœ ","title":"è¿œè¡Œäºº"},{"content":"ä»€ä¹ˆæ˜¯ shell shell å°±æ˜¯ä¸€ä¸ªæ”¯æŒè¾“å…¥å‘½ä»¤ï¼Œå¹¶æ˜¾ç¤ºå‡ºå‘½ä»¤çš„è¾“å‡ºçš„ä¸œè¥¿\nç”¨ go æ¥å†™ä¸ªç®€å•çš„ shell å¹¶ä½¿ç”¨å®ƒ æ­¥éª¤\nç¼–å†™ä»£ç  build å‡ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶å°†è·¯å¾„æ·»åŠ åˆ° /etc/shells é‡Œé¢ æ›´æ¢ä½¿ç”¨çš„ shellï¼Œé€€å‡ºé‡è¿›ï¼ˆchsc -s xxxï¼‰ å®Œæ•´ä»£ç å¦‚ä¸‹\npackage main import ( \u0026#34;bufio\u0026#34; \u0026#34;errors\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;os/exec\u0026#34; \u0026#34;strings\u0026#34; ) func main() { reader := bufio.NewReader(os.Stdin) for { fmt.Print(\u0026#34;\u0026gt; \u0026#34;) // Read the keyboad input input, err := reader.ReadString(\u0026#39;\\n\u0026#39;) if err != nil { fmt.Fprintln(os.Stderr, err) } // Handle the execution of the input if err = execInput(input); err != nil { fmt.Fprintln(os.Stderr, err) } } } func execInput(input string) error { // Remove the newline character input = strings.TrimSuffix(input, \u0026#34;\\n\u0026#34;) // Split the input to separate the command and the arguments args := strings.Split(input, \u0026#34; \u0026#34;) switch args[0] { case \u0026#34;cd\u0026#34;: // \u0026#39;cd\u0026#39; to home dir with empty path not yet supported if len(args) \u0026lt; 2 { return errors.New(\u0026#34;path required\u0026#34;) } // Change the directory and return the error return os.Chdir(args[1]) case \u0026#34;exit\u0026#34;: os.Exit(0) } // Pass the program and the arguments separately cmd := exec.Command(args[0], args[1:]...) // Set the correct output device cmd.Stderr = os.Stderr cmd.Stdout = os.Stdout // Execute the command and return the error return cmd.Run() } åæ§½ å†™çš„è¿™ä¸ª shell å®åœ¨æ˜¯å¤ªç®€å•äº†ï¼Œè¦æƒ³è¾¾åˆ°åŸºæœ¬æ»¡æ„çš„ç¨‹åº¦ï¼Œè¿˜éœ€è¦åšå¾ˆå¤šå¾ˆå¤šï¼Œ è¿˜æ˜¯è€å®ç”¨ zsh å§ã€‚\nä¸»è¦è¿˜æ˜¯æƒ³ä¸å‡ºä»€ä¹ˆæ–°æ„ï¼Œå¦‚æœä¸ºäº†å¹³æ—¶å·¥ä½œæ–¹ä¾¿ï¼Œshell é‡Œé›†æˆä¸€äº›å‘½ä»¤ï¼Œ é€šè¿‡æ›´ç®€å•çš„æ–¹å¼æ¥æä¾›å¤æ‚çš„åŠŸèƒ½ï¼Œå¯æ˜¯ alias ä¹Ÿèƒ½åšåˆ°ï¼Œä½•å¿…å†™ä¸ª shell å‘¢ ğŸ˜‚\nè™½ç„¶è¿™ä¸ª shell å¾ˆç®€å•ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€ç‚¹æ”¶è·ï¼Œ æ¯”å¦‚çŸ¥é“äº† cd å¹¶ä¸æ˜¯ä¸€ä¸ªç¨‹åºï¼Œè€Œæ˜¯ shell å†…ç½®çš„åŠŸèƒ½ã€‚\nä¸ºäº†å†™å‡ºæ›´æœ‰è¶£ã€æ›´å®ç”¨çš„ shellï¼Œå¦‚æœè°æœ‰ä»»ä½•æƒ³æ³•ï¼Œæ¬¢è¿åœ¨æˆ‘çš„ è®¢é˜…å· é‡Œç•™è¨€ ğŸ”¥\nå‚è€ƒæ–‡çŒ® Writing a simple shell in Go ","permalink":"https://theone-daxia.github.io/blog/code/shell_in_go/","summary":"ä»€ä¹ˆæ˜¯ shell shell å°±æ˜¯ä¸€ä¸ªæ”¯æŒè¾“å…¥å‘½ä»¤ï¼Œå¹¶æ˜¾ç¤ºå‡ºå‘½ä»¤çš„è¾“å‡ºçš„ä¸œè¥¿\nç”¨ go æ¥å†™ä¸ªç®€å•çš„ shell å¹¶ä½¿ç”¨å®ƒ æ­¥éª¤\nç¼–å†™ä»£ç  build å‡ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶å°†è·¯å¾„æ·»åŠ åˆ° /etc/shells é‡Œé¢ æ›´æ¢ä½¿ç”¨çš„ shellï¼Œé€€å‡ºé‡è¿›ï¼ˆchsc -s xxxï¼‰ å®Œæ•´ä»£ç å¦‚ä¸‹\npackage main import ( \u0026#34;bufio\u0026#34; \u0026#34;errors\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;os/exec\u0026#34; \u0026#34;strings\u0026#34; ) func main() { reader := bufio.NewReader(os.Stdin) for { fmt.Print(\u0026#34;\u0026gt; \u0026#34;) // Read the keyboad input input, err := reader.ReadString(\u0026#39;\\n\u0026#39;) if err != nil { fmt.Fprintln(os.Stderr, err) } // Handle the execution of the input if err = execInput(input); err !","title":"ç”¨ go å†™ä¸ªç®€å•çš„ shell"},{"content":"è¿™åº”è¯¥æ˜¯æˆ‘åœ¨åŒ—äº¬çœ‹è¿‡çš„ç¬¬ä¸‰ä¸ªè¯å‰§ï¼Œå‰ä¸¤ä¸ªå«å•¥å·²ç»è®°ä¸èµ·æ¥äº†ï¼Œ æ€»ä¹‹ï¼Œä»–ä»¬ç»™æˆ‘çš„æ„Ÿè§‰éƒ½å·®ä¸å¤šï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆéœ‡æ’¼ï¼Œå¿ƒé‡Œæ²¡ä»€ä¹ˆæ³¢æ¾œã€‚\nè¿™ä¸ªè¯å‰§æ•´ä½“æ„Ÿè§‰ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä½†å®ƒæœ‰ä¸ªéå¸¸ç‰¹åˆ«çš„åœ°æ–¹ï¼Œ æ•´ä¸ª2å°æ—¶çš„è¡¨æ¼”æ—¶é—´ï¼Œå®Œå…¨åªæœ‰é»„æ¹˜ä¸½ä¸€ä¸ªäººï¼Œ å¤§æ®µçš„å°è¯ï¼Œå˜æ¢çš„ç¯å…‰ï¼Œæ‹¿èµ·å‰ä»–è‡ªå¼¹è‡ªå”±ï¼Œç”šè‡³è¿˜æœ‰ç°åœºåšé¥­ï¼Œéƒ½åœ¨ä½“ç°å®ƒçš„ç‰¹åˆ«ã€‚\næ•´ä¸ªè¯å‰§çš„å†…å®¹ï¼Œæ˜¯åœ¨è®²è¿°ä¸€ä¸ªå¥³ç”Ÿä»å¥³å­©ï¼Œåˆ°å°‘å¥³ï¼Œå†åˆ°æ¯äº²ï¼Œ éƒ½åªæ˜¯æƒ³è®©é‚£åç”·å­è®¤è¯†å¥¹ã€è®¤å‡ºå¥¹ã€çˆ±å¥¹ã€‚ æƒ³è¦ä¸é¡¾ä¸€åˆ‡ï¼Œä¸æ±‚å›æŠ¥çš„çˆ±ï¼Œæœ€ç»ˆå´é€‰æ‹©å¹³é™çš„æ­»äº¡ã€‚\nä½©æœè¿™ä½å¥³æ¼”å‘˜ã€‚\n","permalink":"https://theone-daxia.github.io/blog/drama/letter_from_a_strange_woman/","summary":"è¿™åº”è¯¥æ˜¯æˆ‘åœ¨åŒ—äº¬çœ‹è¿‡çš„ç¬¬ä¸‰ä¸ªè¯å‰§ï¼Œå‰ä¸¤ä¸ªå«å•¥å·²ç»è®°ä¸èµ·æ¥äº†ï¼Œ æ€»ä¹‹ï¼Œä»–ä»¬ç»™æˆ‘çš„æ„Ÿè§‰éƒ½å·®ä¸å¤šï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆéœ‡æ’¼ï¼Œå¿ƒé‡Œæ²¡ä»€ä¹ˆæ³¢æ¾œã€‚\nè¿™ä¸ªè¯å‰§æ•´ä½“æ„Ÿè§‰ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä½†å®ƒæœ‰ä¸ªéå¸¸ç‰¹åˆ«çš„åœ°æ–¹ï¼Œ æ•´ä¸ª2å°æ—¶çš„è¡¨æ¼”æ—¶é—´ï¼Œå®Œå…¨åªæœ‰é»„æ¹˜ä¸½ä¸€ä¸ªäººï¼Œ å¤§æ®µçš„å°è¯ï¼Œå˜æ¢çš„ç¯å…‰ï¼Œæ‹¿èµ·å‰ä»–è‡ªå¼¹è‡ªå”±ï¼Œç”šè‡³è¿˜æœ‰ç°åœºåšé¥­ï¼Œéƒ½åœ¨ä½“ç°å®ƒçš„ç‰¹åˆ«ã€‚\næ•´ä¸ªè¯å‰§çš„å†…å®¹ï¼Œæ˜¯åœ¨è®²è¿°ä¸€ä¸ªå¥³ç”Ÿä»å¥³å­©ï¼Œåˆ°å°‘å¥³ï¼Œå†åˆ°æ¯äº²ï¼Œ éƒ½åªæ˜¯æƒ³è®©é‚£åç”·å­è®¤è¯†å¥¹ã€è®¤å‡ºå¥¹ã€çˆ±å¥¹ã€‚ æƒ³è¦ä¸é¡¾ä¸€åˆ‡ï¼Œä¸æ±‚å›æŠ¥çš„çˆ±ï¼Œæœ€ç»ˆå´é€‰æ‹©å¹³é™çš„æ­»äº¡ã€‚\nä½©æœè¿™ä½å¥³æ¼”å‘˜ã€‚","title":"ä¸€ä¸ªé™Œç”Ÿå¥³äººçš„æ¥ä¿¡"},{"content":"ä½ç½®ä¿¡æ¯ åº—åï¼šMiss Mousse èœœä¸æ…•æ–¯è›‹ç³•ï¼ˆæœ›äº¬æ‚ ä¹æ±‡åº—ï¼‰ åœ°ç‚¹ï¼šæœ›äº¬æ‚ ä¹æ±‡A4åº§ä¸€å±‚åº•å•†136 æ€»ç»“ ä¹‹å‰ä¹°ç”Ÿæ—¥è›‹ç³•ï¼Œæ€»æœ‰äº›ä¸å¦‚æ„ï¼Œ è¦ä¸å°±æ˜¯æœ‰ç‚¹å¥½çœ‹ï¼Œä½†æ˜¯åƒèµ·æ¥ä¸å¥½åƒï¼Œ è¦ä¸å°±æ˜¯æ„Ÿè§‰æ¯”è¾ƒå°ï¼Œå…¶å®é‡æŒºå¤§ï¼Œä¸¤ä¸ªäººæ ¹æœ¬åƒä¸å®Œã€‚\nè¿™ä¸€æ¬¡çš„ç”Ÿæ—¥æˆ‘\u0026quot;ç¿»å±±è¶Šå²­\u0026quot;ï¼Œåœ¨ç¾å›¢ä¸Šæ‰¾åˆ°äº†ä¸€å®¶è›‹ç³•åº—ï¼Œç«Ÿæœ‰4å¯¸è›‹ç³•ï¼Œ ä¸ä»…é‡ç¬¦åˆæˆ‘çš„è¦æ±‚ï¼Œæ¨¡æ ·ä¹‹ç²¾ç¾æ›´æ˜¯å‡ºä¹æˆ‘çš„æ„æ–™ï¼Œç”šè‡³çœ‹äº†ä¸‹é¢çš„è¯„è®ºï¼Œ æ„Ÿè§‰æ¯ä¸€ä¸ªéƒ½å‘³é“ç»ä½³ã€‚\näºæ˜¯æŒ‘é€‰äº†ä¸€æ¬¾è‡ªè®¤ä¸ºå¾ˆæœ‰ä»™æ°”çš„è›‹ç³•ï¼Œ\u0026ldquo;æ‡µæ‡‚çš„æ¤°å­\u0026rdquo;ï¼Œ æ‹¿åˆ°è›‹ç³•åï¼Œæœç„¶æ²¡è®©æˆ‘å¤±æœ›ï¼Œå¥½çœ‹åˆå¥½åƒï¼Œ å°é¢å›¾å°±æ˜¯æˆ‘æ‹çš„ç…§ç‰‡ï¼Œ èµ é€äº†å¿ƒå½¢çš„ç‡ƒçƒ§æ£’ï¼ˆä¸çŸ¥é“å«å•¥ï¼Œä¸´æ—¶çèµ·çš„åå­—ï¼‰ï¼Œ ä¸¤äººä»½çš„é¤å…·ä¹Ÿæ˜¯ç²¾ç¾å¯çˆ±ã€‚\næ˜¯ä¸€å®¶å€¼å¾—æ”¶è—çš„è›‹ç³•åº—äº†ï¼Œè€Œä¸”ä»–å®¶è¿˜æä¾›åº§ä½ï¼Œå‘¨æ—¥å¯ä»¥åœ¨é‚£çœ‹ä¹¦ï¼Œ ç©ºæ°”ä¸­è¿˜æœ‰ä¸€è‚¡æ·¡æ·¡çš„ç”œé¦™ï¼Œé—æ†¾æ²¡èƒ½æ—©ç‚¹å‘ç°å®ƒã€‚\n","permalink":"https://theone-daxia.github.io/blog/food/birthday_cake/","summary":"ä½ç½®ä¿¡æ¯ åº—åï¼šMiss Mousse èœœä¸æ…•æ–¯è›‹ç³•ï¼ˆæœ›äº¬æ‚ ä¹æ±‡åº—ï¼‰ åœ°ç‚¹ï¼šæœ›äº¬æ‚ ä¹æ±‡A4åº§ä¸€å±‚åº•å•†136 æ€»ç»“ ä¹‹å‰ä¹°ç”Ÿæ—¥è›‹ç³•ï¼Œæ€»æœ‰äº›ä¸å¦‚æ„ï¼Œ è¦ä¸å°±æ˜¯æœ‰ç‚¹å¥½çœ‹ï¼Œä½†æ˜¯åƒèµ·æ¥ä¸å¥½åƒï¼Œ è¦ä¸å°±æ˜¯æ„Ÿè§‰æ¯”è¾ƒå°ï¼Œå…¶å®é‡æŒºå¤§ï¼Œä¸¤ä¸ªäººæ ¹æœ¬åƒä¸å®Œã€‚\nè¿™ä¸€æ¬¡çš„ç”Ÿæ—¥æˆ‘\u0026quot;ç¿»å±±è¶Šå²­\u0026quot;ï¼Œåœ¨ç¾å›¢ä¸Šæ‰¾åˆ°äº†ä¸€å®¶è›‹ç³•åº—ï¼Œç«Ÿæœ‰4å¯¸è›‹ç³•ï¼Œ ä¸ä»…é‡ç¬¦åˆæˆ‘çš„è¦æ±‚ï¼Œæ¨¡æ ·ä¹‹ç²¾ç¾æ›´æ˜¯å‡ºä¹æˆ‘çš„æ„æ–™ï¼Œç”šè‡³çœ‹äº†ä¸‹é¢çš„è¯„è®ºï¼Œ æ„Ÿè§‰æ¯ä¸€ä¸ªéƒ½å‘³é“ç»ä½³ã€‚\näºæ˜¯æŒ‘é€‰äº†ä¸€æ¬¾è‡ªè®¤ä¸ºå¾ˆæœ‰ä»™æ°”çš„è›‹ç³•ï¼Œ\u0026ldquo;æ‡µæ‡‚çš„æ¤°å­\u0026rdquo;ï¼Œ æ‹¿åˆ°è›‹ç³•åï¼Œæœç„¶æ²¡è®©æˆ‘å¤±æœ›ï¼Œå¥½çœ‹åˆå¥½åƒï¼Œ å°é¢å›¾å°±æ˜¯æˆ‘æ‹çš„ç…§ç‰‡ï¼Œ èµ é€äº†å¿ƒå½¢çš„ç‡ƒçƒ§æ£’ï¼ˆä¸çŸ¥é“å«å•¥ï¼Œä¸´æ—¶çèµ·çš„åå­—ï¼‰ï¼Œ ä¸¤äººä»½çš„é¤å…·ä¹Ÿæ˜¯ç²¾ç¾å¯çˆ±ã€‚\næ˜¯ä¸€å®¶å€¼å¾—æ”¶è—çš„è›‹ç³•åº—äº†ï¼Œè€Œä¸”ä»–å®¶è¿˜æä¾›åº§ä½ï¼Œå‘¨æ—¥å¯ä»¥åœ¨é‚£çœ‹ä¹¦ï¼Œ ç©ºæ°”ä¸­è¿˜æœ‰ä¸€è‚¡æ·¡æ·¡çš„ç”œé¦™ï¼Œé—æ†¾æ²¡èƒ½æ—©ç‚¹å‘ç°å®ƒã€‚","title":"ç”Ÿæ—¥è›‹ç³•"},{"content":"å½“å‰ç¯å¢ƒ hugoç‰ˆæœ¬ï¼šv0.88.1 markdown è§£æå™¨ï¼šgoldmarkï¼ˆHugo ä» v0.60.0 å¼€å§‹ï¼Œmarkdown è§£æå™¨å°±é»˜è®¤ä½¿ç”¨ goldmarkï¼‰ ä¸‹é¢ä»‹ç»é…ç½® KaTeX æ­¥éª¤\næ·»åŠ  math partial åˆ›å»ºä¸€ä¸ª math partialï¼Œè·¯å¾„ä¸ºï¼š/layouts/partials/math.html\nç»™ math partial æ·»åŠ å†…å®¹ åœ¨ /layouts/partials/math.html æ–‡ä»¶é‡Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼ˆ å‚è€ƒ Auto-render Extension ï¼‰\n\u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css\u0026#34; integrity=\u0026#34;sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt; \u0026lt;script defer src=\u0026#34;https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js\u0026#34; integrity=\u0026#34;sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script defer src=\u0026#34;https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js\u0026#34; integrity=\u0026#34;sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; onload=\u0026#34;renderMathInElement(document.body);\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; åªæ·»åŠ ä¸Šè¿°å†…å®¹çš„è¯ï¼Œå°±ä¼šåªæ”¯æŒ block å…¬å¼ï¼Œä¸ºäº†æ”¯æŒ inline å…¬å¼ï¼Œè¿˜è¦åœ¨ä¸‹æ–¹åŠ å…¥å¦‚ä¸‹å†…å®¹\n\u0026lt;script\u0026gt; document.addEventListener(\u0026#34;DOMContentLoaded\u0026#34;, function() { renderMathInElement(document.body, { // customised options // â€¢ auto-render specific keys, e.g.: delimiters: [ {left: \u0026#39;$$\u0026#39;, right: \u0026#39;$$\u0026#39;, display: true}, {left: \u0026#39;$\u0026#39;, right: \u0026#39;$\u0026#39;, display: false}, {left: \u0026#39;\\\\(\u0026#39;, right: \u0026#39;\\\\)\u0026#39;, display: false}, {left: \u0026#39;\\\\[\u0026#39;, right: \u0026#39;\\\\]\u0026#39;, display: true} ], // â€¢ rendering keys, e.g.: throwOnError : false }); }); \u0026lt;/script\u0026gt; å°† math partial å¼•å…¥åˆ°æ¨¡æ¿é‡Œ ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯ papermod ä¸»é¢˜ï¼Œå·²ç»æä¾›äº† extend_head.html ç”¨ä»¥æ·»åŠ è‡ªå®šä¹‰çš„æ‰©å±•ä»£ç ï¼Œ æ‰€ä»¥åœ¨ extend_head.html æ–‡ä»¶é‡Œæ·»åŠ å¦‚ä¸‹å†…å®¹\n{{ if or .Params.math .Site.Params.math }} {{ partial \u0026#34;math.html\u0026#34; . }} {{ end }} å®šä¹‰ math å‚æ•° å…¨ç«™ç”Ÿæ•ˆï¼šå¯åœ¨ config.yml æ–‡ä»¶é‡Œï¼Œæ·»åŠ  math å‚æ•° math: true åªåœ¨æŸç‰‡æ–‡ç« é‡Œç”Ÿæ•ˆï¼šå¯åœ¨æ–‡ç« çš„ front-matter é‡Œæ·»åŠ å‚æ•° math: true ç¤ºä¾‹ å¯¹äºè¿™ä¸ªä¾‹å­ï¼š$\\sum_i^nd_i$ï¼Œä¸‹é¢ç»™å‡ºä¸¤ç§å±•ç¤ºæ•ˆæœï¼š\ninlineï¼š$\\sum_i^nd_i$ blockï¼š$$\\sum_i^nd_i$$ å‚è€ƒæ–‡ç«  Math Typesetting INLINE MATH WITH KATEX ","permalink":"https://theone-daxia.github.io/blog/code/math_typesetting/","summary":"å½“å‰ç¯å¢ƒ hugoç‰ˆæœ¬ï¼šv0.88.1 markdown è§£æå™¨ï¼šgoldmarkï¼ˆHugo ä» v0.60.0 å¼€å§‹ï¼Œmarkdown è§£æå™¨å°±é»˜è®¤ä½¿ç”¨ goldmarkï¼‰ ä¸‹é¢ä»‹ç»é…ç½® KaTeX æ­¥éª¤\næ·»åŠ  math partial åˆ›å»ºä¸€ä¸ª math partialï¼Œè·¯å¾„ä¸ºï¼š/layouts/partials/math.html\nç»™ math partial æ·»åŠ å†…å®¹ åœ¨ /layouts/partials/math.html æ–‡ä»¶é‡Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼ˆ å‚è€ƒ Auto-render Extension ï¼‰\n\u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css\u0026#34; integrity=\u0026#34;sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt; \u0026lt;script defer src=\u0026#34;https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js\u0026#34; integrity=\u0026#34;sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script defer src=\u0026#34;https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js\u0026#34; integrity=\u0026#34;sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; onload=\u0026#34;renderMathInElement(document.body);\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; åªæ·»åŠ ä¸Šè¿°å†…å®¹çš„è¯ï¼Œå°±ä¼šåªæ”¯æŒ block å…¬å¼ï¼Œä¸ºäº†æ”¯æŒ inline å…¬å¼ï¼Œè¿˜è¦åœ¨ä¸‹æ–¹åŠ å…¥å¦‚ä¸‹å†…å®¹\n\u0026lt;script\u0026gt; document.addEventListener(\u0026#34;DOMContentLoaded\u0026#34;, function() { renderMathInElement(document.body, { // customised options // â€¢ auto-render specific keys, e.g.: delimiters: [ {left: \u0026#39;$$\u0026#39;, right: \u0026#39;$$\u0026#39;, display: true}, {left: \u0026#39;$\u0026#39;, right: \u0026#39;$\u0026#39;, display: false}, {left: \u0026#39;\\\\(\u0026#39;, right: \u0026#39;\\\\)\u0026#39;, display: false}, {left: \u0026#39;\\\\[\u0026#39;, right: \u0026#39;\\\\]\u0026#39;, display: true} ], // â€¢ rendering keys, e.","title":"hugoæ”¯æŒæ•°å­¦å…¬å¼æ’ç‰ˆ"},{"content":"ç¼˜èµ· å‘ç°æœ€è¿‘æ€»æ˜¯ä¾¿ç§˜ï¼Œä¸¤ä¸‰å¤©éƒ½ä¸\u0026quot;ä¸Šå¤§å·\u0026quot;ï¼Œä»Šæ—©èµ·åºŠçªç„¶æ„è¯†åˆ°å¯èƒ½æ˜¯æˆ‘ä¸€ç›´å–èƒèŠèŒ¶é€ æˆçš„ã€‚ ä¸€æŸ¥ï¼Œæœç„¶ï¼\nçœ‹ä¸‹é¢çš„åŠŸæ•ˆåŠå‰¯ä½œç”¨å¯çŸ¥ï¼Œé€‚é‡å–å¯ä¿ƒè¿›æ¶ˆåŒ–ï¼Œé¢„é˜²ä¾¿ç§˜ï¼Œä½†æ˜¯å–å¤šäº†ï¼Œåˆ™ä¼šå‡ºç°åæ•ˆæœï¼Œè¿˜å®¹æ˜“æŸä¼¤è„¾èƒƒï¼Œå‡ºç°é£Ÿæ¬²å‡é€€çš„æƒ…å†µã€‚\nè¿™å®Œç¾çš„è§£é‡Šäº†ä¸ºå•¥åˆšå¼€å§‹å–çš„æ—¶å€™ï¼Œè®°å¾—è¿˜æ˜¯ä½œæ¯é¥®é£Ÿè§„å¾‹ï¼Œæ¯å¤©æ—©ä¸Šéƒ½\u0026quot;å¤§å·æ’æ¯’\u0026quot;ï¼Œæœ€è¿‘å´ç»å¸¸ä¾¿ç§˜ï¼Œä¸”ä¸è§å¥½è½¬ï¼Œåƒå¥èƒƒæ¶ˆé£Ÿç‰‡ä¹Ÿæ²¡å¤šå¤§ç”¨ã€‚ ä¸è¿‡æ€æ ·æ‰ç®—\u0026quot;å–å¤šäº†\u0026quot;ï¼Œä»¥æˆ‘çš„æƒ…å†µæ¥çœ‹ï¼Œæ¯å¤© 8ï½10 æœµï¼Œä¸æ–­å†²æ³¡ï¼Œå–ä¸Š 6ï½8 æ¯ï¼Œè¿ç»­å– 3ï½4 ä¸ªæœˆï¼Œå°±ç®—å–å¤šäº†ã€‚\nç®€ä»‹ èƒèŠåˆç§°ç”˜èŠã€å°èƒé»„ã€å°ç™½èŠï¼Œå¤æ—¶æ›¾ä½œè´¡å“ï¼Œæ˜¯æ­ç™½èŠä¸­æœ€ä¸Šå“çš„ä¸€ç§ã€‚ åœ¨æ­ç™½èŠèŠ±æœµæœªå®Œå…¨å¼ å¼€çš„æ—¶å€™æ‘˜ä¸‹æ¥ï¼Œç»å¹²ç‡¥åŠ å·¥åˆ¶æˆã€‚\nèƒèŠï¼Œæ€§å¾®å¯’ï¼Œå‘³è¾›ç”˜è‹¦ï¼Œèƒ½ç–æ•£é£çƒ­ã€å¹³è‚æ˜ç›®ã€æ¸…çƒ­è§£æ¯’ã€‚ ç”¨èƒèŠæ³¡èŒ¶ï¼Œå‘³çº¯æ­£ï¼Œæµ“çƒˆï¼Œè‰²æ³½é‡‘é»„ï¼Œå«æœ‰èŠ±èœœçš„æ¸…é¦™ï¼Œæ³¡ä¹…äº†ä¹Ÿä¸ä¼šæ•£å¼€ã€‚\nåŠŸæ•ˆ 1. æ˜ç›® èƒèŠå…·æœ‰å¾ˆå¥½çš„æŠ¤çœ¼ã€æ˜ç›®çš„ä½œç”¨ï¼Œç‰¹åˆ«é€‚åˆä¸Šç­æ—ç­‰é•¿æ—¶é—´é¢å¯¹ç”µè„‘çš„äººç¾¤ã€‚\n2. è¡¥è‚ã€æ¸…è‚ èƒèŠå…·æœ‰æ¸…çƒ­è§£æ¯’çš„ä½œç”¨ï¼Œè¿˜èƒ½å¢å¼ºèº«ä½“çš„æŠµæŠ—åŠ›ï¼Œé¢„é˜²å† å¿ƒç—…ç­‰ã€‚ èƒèŠå’Œå†°ç³–ä¸€èµ·æµ¸æ³¡ï¼Œè¿˜èƒ½èµ·åˆ°æŠ—èŒä½œç”¨ã€‚\n3. ç¥›é™¤æ¹¿æ°” ä¸€èˆ¬è€Œè¨€ï¼Œä½“å†…æ¹¿æ°”è¿‡é‡çš„ç—‡çŠ¶è¡¨ç°ä¸ºå£å¹²èˆŒç‡¥ã€çœ¼ç›å¹²æ¶©ã€ä¸Šç«ç­‰ï¼Œæ­¤æ—¶å¯æ³¡ä¸€æ¯èƒèŠèŒ¶æ¥ç¼“è§£ã€‚\n4. ç¼“è§£ä¾¿ç§˜ èƒèŠèŠ±å¯Œå«ä¸¹å®ï¼Œè¿™ç§ç‰©è´¨èƒ½æœ‰æ•ˆä¿ƒè¿›è‚ èƒƒè •åŠ¨ï¼Œå¾ˆå¥½çš„å¢å¼ºèº«ä½“çš„æ¶ˆåŒ–èƒ½åŠ›å’Œé£Ÿæ¬²ï¼Œè®©ä¾¿ç§˜å¾—åˆ°ç¼“è§£ã€‚\nå‰¯ä½œç”¨ è™½ç„¶èƒèŠæœ‰ä¿å¥çš„åŠŸæ•ˆï¼Œä½†å¦‚æœé•¿æœŸæœç”¨ä¹Ÿä¸å¥½ï¼Œä¼šå¼•èµ·èº«ä½“ä¸é€‚ã€‚\n1. è…¹ç—›è…¹æ³» èƒèŠå¯ä»¥ä¿ƒè¿›æ¶ˆåŒ–ï¼Œä½†å–å¤šäº†åˆ™ä¼šå‡ºç°åæ•ˆæœï¼Œå¯¼è‡´è‚ èƒƒå‡ºç°å¯’å‡‰ä¹‹æ°”ï¼Œå‡ºç°è…¹ç—›è…¹æ³»çš„ç°è±¡ã€‚\n2. ä¸Šç« èƒèŠæ€§å¾®å¯’ï¼Œé˜´è™šç«çƒ­ä½“è´¨çš„äººå–å¤šäº†ä¼šå¼•èµ·ä¸Šç«ç°è±¡ã€‚\n3. è„¾èƒƒå—æŸï¼Œé£Ÿæ¬²å‡é€€ å–å¤šäº†èƒèŠå®¹æ˜“å¼•èµ·èƒƒéƒ¨ä¸é€‚ï¼Œå¯¼è‡´åé…¸ï¼Œè‚ èƒƒåˆ†æ³Œæ¶²ä¸æ­£å¸¸ï¼Œå¯èƒ½å¼•èµ·é£Ÿæ¬²å‡é€€çš„æƒ…å†µã€‚å› æ­¤è„¾èƒƒè™šå¯’çš„äººæ›´åŠ ä¸èƒ½å¤šå–èƒèŠï¼Œå®¹æ˜“æŸä¼¤è„¾èƒƒã€‚\n","permalink":"https://theone-daxia.github.io/blog/tea/taiju/","summary":"ç¼˜èµ· å‘ç°æœ€è¿‘æ€»æ˜¯ä¾¿ç§˜ï¼Œä¸¤ä¸‰å¤©éƒ½ä¸\u0026quot;ä¸Šå¤§å·\u0026quot;ï¼Œä»Šæ—©èµ·åºŠçªç„¶æ„è¯†åˆ°å¯èƒ½æ˜¯æˆ‘ä¸€ç›´å–èƒèŠèŒ¶é€ æˆçš„ã€‚ ä¸€æŸ¥ï¼Œæœç„¶ï¼\nçœ‹ä¸‹é¢çš„åŠŸæ•ˆåŠå‰¯ä½œç”¨å¯çŸ¥ï¼Œé€‚é‡å–å¯ä¿ƒè¿›æ¶ˆåŒ–ï¼Œé¢„é˜²ä¾¿ç§˜ï¼Œä½†æ˜¯å–å¤šäº†ï¼Œåˆ™ä¼šå‡ºç°åæ•ˆæœï¼Œè¿˜å®¹æ˜“æŸä¼¤è„¾èƒƒï¼Œå‡ºç°é£Ÿæ¬²å‡é€€çš„æƒ…å†µã€‚\nè¿™å®Œç¾çš„è§£é‡Šäº†ä¸ºå•¥åˆšå¼€å§‹å–çš„æ—¶å€™ï¼Œè®°å¾—è¿˜æ˜¯ä½œæ¯é¥®é£Ÿè§„å¾‹ï¼Œæ¯å¤©æ—©ä¸Šéƒ½\u0026quot;å¤§å·æ’æ¯’\u0026quot;ï¼Œæœ€è¿‘å´ç»å¸¸ä¾¿ç§˜ï¼Œä¸”ä¸è§å¥½è½¬ï¼Œåƒå¥èƒƒæ¶ˆé£Ÿç‰‡ä¹Ÿæ²¡å¤šå¤§ç”¨ã€‚ ä¸è¿‡æ€æ ·æ‰ç®—\u0026quot;å–å¤šäº†\u0026quot;ï¼Œä»¥æˆ‘çš„æƒ…å†µæ¥çœ‹ï¼Œæ¯å¤© 8ï½10 æœµï¼Œä¸æ–­å†²æ³¡ï¼Œå–ä¸Š 6ï½8 æ¯ï¼Œè¿ç»­å– 3ï½4 ä¸ªæœˆï¼Œå°±ç®—å–å¤šäº†ã€‚\nç®€ä»‹ èƒèŠåˆç§°ç”˜èŠã€å°èƒé»„ã€å°ç™½èŠï¼Œå¤æ—¶æ›¾ä½œè´¡å“ï¼Œæ˜¯æ­ç™½èŠä¸­æœ€ä¸Šå“çš„ä¸€ç§ã€‚ åœ¨æ­ç™½èŠèŠ±æœµæœªå®Œå…¨å¼ å¼€çš„æ—¶å€™æ‘˜ä¸‹æ¥ï¼Œç»å¹²ç‡¥åŠ å·¥åˆ¶æˆã€‚\nèƒèŠï¼Œæ€§å¾®å¯’ï¼Œå‘³è¾›ç”˜è‹¦ï¼Œèƒ½ç–æ•£é£çƒ­ã€å¹³è‚æ˜ç›®ã€æ¸…çƒ­è§£æ¯’ã€‚ ç”¨èƒèŠæ³¡èŒ¶ï¼Œå‘³çº¯æ­£ï¼Œæµ“çƒˆï¼Œè‰²æ³½é‡‘é»„ï¼Œå«æœ‰èŠ±èœœçš„æ¸…é¦™ï¼Œæ³¡ä¹…äº†ä¹Ÿä¸ä¼šæ•£å¼€ã€‚\nåŠŸæ•ˆ 1. æ˜ç›® èƒèŠå…·æœ‰å¾ˆå¥½çš„æŠ¤çœ¼ã€æ˜ç›®çš„ä½œç”¨ï¼Œç‰¹åˆ«é€‚åˆä¸Šç­æ—ç­‰é•¿æ—¶é—´é¢å¯¹ç”µè„‘çš„äººç¾¤ã€‚\n2. è¡¥è‚ã€æ¸…è‚ èƒèŠå…·æœ‰æ¸…çƒ­è§£æ¯’çš„ä½œç”¨ï¼Œè¿˜èƒ½å¢å¼ºèº«ä½“çš„æŠµæŠ—åŠ›ï¼Œé¢„é˜²å† å¿ƒç—…ç­‰ã€‚ èƒèŠå’Œå†°ç³–ä¸€èµ·æµ¸æ³¡ï¼Œè¿˜èƒ½èµ·åˆ°æŠ—èŒä½œç”¨ã€‚\n3. ç¥›é™¤æ¹¿æ°” ä¸€èˆ¬è€Œè¨€ï¼Œä½“å†…æ¹¿æ°”è¿‡é‡çš„ç—‡çŠ¶è¡¨ç°ä¸ºå£å¹²èˆŒç‡¥ã€çœ¼ç›å¹²æ¶©ã€ä¸Šç«ç­‰ï¼Œæ­¤æ—¶å¯æ³¡ä¸€æ¯èƒèŠèŒ¶æ¥ç¼“è§£ã€‚\n4. ç¼“è§£ä¾¿ç§˜ èƒèŠèŠ±å¯Œå«ä¸¹å®ï¼Œè¿™ç§ç‰©è´¨èƒ½æœ‰æ•ˆä¿ƒè¿›è‚ èƒƒè •åŠ¨ï¼Œå¾ˆå¥½çš„å¢å¼ºèº«ä½“çš„æ¶ˆåŒ–èƒ½åŠ›å’Œé£Ÿæ¬²ï¼Œè®©ä¾¿ç§˜å¾—åˆ°ç¼“è§£ã€‚\nå‰¯ä½œç”¨ è™½ç„¶èƒèŠæœ‰ä¿å¥çš„åŠŸæ•ˆï¼Œä½†å¦‚æœé•¿æœŸæœç”¨ä¹Ÿä¸å¥½ï¼Œä¼šå¼•èµ·èº«ä½“ä¸é€‚ã€‚\n1. è…¹ç—›è…¹æ³» èƒèŠå¯ä»¥ä¿ƒè¿›æ¶ˆåŒ–ï¼Œä½†å–å¤šäº†åˆ™ä¼šå‡ºç°åæ•ˆæœï¼Œå¯¼è‡´è‚ èƒƒå‡ºç°å¯’å‡‰ä¹‹æ°”ï¼Œå‡ºç°è…¹ç—›è…¹æ³»çš„ç°è±¡ã€‚\n2. ä¸Šç« èƒèŠæ€§å¾®å¯’ï¼Œé˜´è™šç«çƒ­ä½“è´¨çš„äººå–å¤šäº†ä¼šå¼•èµ·ä¸Šç«ç°è±¡ã€‚\n3. è„¾èƒƒå—æŸï¼Œé£Ÿæ¬²å‡é€€ å–å¤šäº†èƒèŠå®¹æ˜“å¼•èµ·èƒƒéƒ¨ä¸é€‚ï¼Œå¯¼è‡´åé…¸ï¼Œè‚ èƒƒåˆ†æ³Œæ¶²ä¸æ­£å¸¸ï¼Œå¯èƒ½å¼•èµ·é£Ÿæ¬²å‡é€€çš„æƒ…å†µã€‚å› æ­¤è„¾èƒƒè™šå¯’çš„äººæ›´åŠ ä¸èƒ½å¤šå–èƒèŠï¼Œå®¹æ˜“æŸä¼¤è„¾èƒƒã€‚","title":"èƒèŠ"},{"content":"ç®€ä»‹ SSH é™¤äº†ç™»é™†æœåŠ¡å™¨ï¼Œè¿˜æœ‰ä¸€å¤§ç”¨é€”ï¼Œå°±æ˜¯ä½œä¸ºåŠ å¯†é€šä¿¡çš„ä¸­ä»‹ï¼Œå……å½“ä¸¤å°æœåŠ¡å™¨ä¹‹é—´çš„åŠ å¯†è·³æ¿ï¼Œä½¿å¾—åŸæœ¬ä¸åŠ å¯†çš„é€šä¿¡å˜æˆåŠ å¯†é€šä¿¡ã€‚ è¿™ä¸ªåŠŸèƒ½æˆä¸ºç«¯å£è½¬å‘ï¼ˆport forwardingï¼‰ï¼Œåˆç§° SSH éš§é“ï¼ˆtunnelï¼‰ã€‚\nç«¯å£è½¬å‘æœ‰ä¸¤ä¸ªä¸»è¦ä½œç”¨ï¼š\nå°†ä¸åŠ å¯†çš„æ•°æ®æ”¾åœ¨ SSH å®‰å…¨è¿æ¥é‡Œä¼ è¾“ï¼Œä½¿åŸæœ¬ä¸å®‰å…¨çš„ç½‘ç»œæœåŠ¡å¢åŠ äº†å®‰å…¨æ€§ï¼Œæ¯”å¦‚é€šè¿‡ç«¯å£è½¬å‘è®¿é—® Telnetã€FTP ç­‰æ˜æ–‡æœåŠ¡ï¼Œæ•°æ®ä¼ è¾“å°±éƒ½ä¼šåŠ å¯†ã€‚ ä½œä¸ºæ•°æ®é€šä¿¡çš„åŠ å¯†è·³æ¿ï¼Œç»•è¿‡ç½‘ç»œé˜²ç«å¢™ã€‚ ä¸‰ç§ä½¿ç”¨æ–¹æ³• ç«¯å£è½¬å‘æœ‰ä¸‰ç§ä½¿ç”¨æ–¹æ³•ï¼šåŠ¨æ€è½¬å‘ã€æœ¬åœ°è½¬å‘ã€è¿œç¨‹è½¬å‘ã€‚\n1. åŠ¨æ€è½¬å‘ åŠ¨æ€è½¬å‘æ˜¯æŒ‡ï¼Œæœ¬æœºä¸ SSH æœåŠ¡å™¨ä¹‹é—´åˆ›å»ºäº†ä¸€ä¸ªåŠ å¯†è¿æ¥ï¼Œæœ¬æœºå†…éƒ¨é’ˆå¯¹æŸä¸ªç«¯å£çš„é€šä¿¡ï¼Œéƒ½é€šè¿‡è¿™ä¸ªåŠ å¯†è¿æ¥è½¬å‘ã€‚\nåŠ¨æ€è½¬å‘å°†ä¸€ä¸ªæœ¬åœ°ç«¯å£ç»‘å®šåˆ°äº† SSH æœåŠ¡å™¨ï¼Œè€Œ ç›®æ ‡åœ°å€:ç›®æ ‡ç«¯å£ æ˜¯ä¸å›ºå®šçš„ï¼Œå®Œå…¨ç”±å‘èµ·çš„è¯·æ±‚å†³å®šï¼Œæ‰€ä»¥å«åŠ¨æ€è½¬å‘ã€‚\nssh -D local-port tunnel-host -N ä¸Šé¢å‘½ä»¤ä¸­ï¼Œ-Dè¡¨ç¤ºåŠ¨æ€è½¬å‘ï¼Œlocal-portæ˜¯æœ¬åœ°ç«¯å£ï¼Œtunnel-hostæ˜¯ SSH æœåŠ¡å™¨ï¼Œ -Nè¡¨ç¤ºè¿™ä¸ª SSH è¿æ¥åªè¿›è¡Œç«¯å£è½¬å‘ï¼Œä¸ç™»å½•è¿œç¨‹ Shellï¼Œä¸èƒ½æ‰§è¡Œè¿œç¨‹å‘½ä»¤ï¼Œåªèƒ½å……å½“éš§é“ã€‚\nå¦‚æœç»å¸¸ä½¿ç”¨åŠ¨æ€è½¬å‘ï¼Œå¯ä»¥å°†è®¾ç½®å†™å…¥ SSH å®¢æˆ·ç«¯çš„ä¸ªäººé…ç½®æ–‡ä»¶ï¼ˆ~/.ssh/configï¼‰\nDynamicForward tunnel-host:local-port åº”ç”¨ä¸¾ä¾‹ ä¾‹1ï¼š\nè¿œç¨‹äº‘ä¸»æœºB1è¿è¡Œäº†å¤šä¸ªæœåŠ¡ï¼Œåˆ†åˆ«ä½¿ç”¨äº†ä¸åŒç«¯å£ï¼Œæœ¬åœ°ä¸»æœºA1éœ€è¦è®¿é—®è¿™äº›æœåŠ¡ã€‚ ä¸€æ–¹é¢ï¼Œç”±äºå®‰å…¨é™åˆ¶ï¼Œæœ¬åœ°ä¸»æœºA1å¹¶ä¸èƒ½ç›´æ¥è®¿é—®è¿œç¨‹äº‘ä¸»æœºB1ä¸Šçš„æœåŠ¡ï¼Œå› æ­¤éœ€è¦è¿›è¡Œç«¯å£è½¬å‘ï¼Œ å¦ä¸€æ–¹é¢ï¼Œä¸ºæ¯ä¸ªç«¯å£åˆ†åˆ«åˆ›å»ºæœ¬åœ°ç«¯å£è½¬å‘éå¸¸éº»çƒ¦ã€‚\nå¯é€šè¿‡åŠ¨æ€ç«¯å£è½¬å‘ï¼Œå°†A1å‘èµ·çš„è¯·æ±‚è½¬å‘åˆ°B1ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š\nssh -D localhost:8080 root@xxx.xxx.xxx.xxx -N æ³¨æ„ï¼Œè¿™ç§è½¬å‘é‡‡ç”¨äº† SOCKS5 åè®®ï¼Œè®¿é—®ç½‘ç«™æ—¶ï¼Œéœ€è¦æŠŠ HTTP è¯·æ±‚è½¬æˆ SOCKS5 åè®®ï¼Œæ‰èƒ½æŠŠæœ¬åœ°ç«¯å£çš„è¯·æ±‚è½¬å‘å‡ºå»ã€‚ ä¸‹é¢æ˜¯ SSH éš§é“å»ºç«‹åçš„ä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹ï¼š\ncurl -x socks5://localhost:8080 https://www.google.com ä¸Šé¢å‘½ä»¤ä¸­ï¼Œcurl çš„-xå‚æ•°æŒ‡å®šä»£ç†æœåŠ¡å™¨ï¼Œå³é€šè¿‡ SOCKS5 åè®®çš„æœ¬åœ° 8080 ç«¯å£ï¼Œè®¿é—®https://www.google.comã€‚\n2. æœ¬åœ°è½¬å‘ æœ¬åœ°è½¬å‘æ˜¯åœ¨æœ¬åœ°æœåŠ¡å™¨çš„ SSH å®¢æˆ·ç«¯å»ºç«‹çš„è½¬å‘è§„åˆ™ã€‚\næœ¬åœ°è½¬å‘ä¼šæŒ‡å®šä¸€ä¸ªæœ¬åœ°ç«¯å£ï¼Œæ‰€æœ‰å‘å‘é‚£ä¸ªç«¯å£çš„è¯·æ±‚ï¼Œéƒ½ä¼šè½¬å‘åˆ° SSH è·³æ¿æœºï¼ˆtunnel-hostï¼‰ï¼Œ ç„¶å SSH è·³æ¿æœºä½œä¸ºä¸­ä»‹ï¼Œå°†æ”¶åˆ°çš„è¯·æ±‚å‘åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼ˆtarget-hostï¼‰çš„ç›®æ ‡ç«¯å£ï¼ˆtarget-portï¼‰ã€‚\nssh -L local-port:target-host:target-port tunnel-host ä¸Šé¢å‘½ä»¤ä¸­ï¼Œ-Lå‚æ•°è¡¨ç¤ºæœ¬åœ°è½¬å‘ï¼Œlocal-portæ˜¯æœ¬åœ°ç«¯å£ï¼Œ target-hostæ˜¯ä½ æƒ³è¦è®¿é—®çš„ç›®æ ‡æœåŠ¡å™¨ï¼Œtarget-portæ˜¯ç›®æ ‡æœåŠ¡å™¨çš„ç«¯å£ï¼Œ tunnel-hostæ˜¯ SSH è·³æ¿æœºã€‚\nå¦‚æœç»å¸¸ä½¿ç”¨æœ¬åœ°è½¬å‘ï¼Œå¯ä»¥å°†è®¾ç½®å†™å…¥ SSH å®¢æˆ·ç«¯çš„ç”¨æˆ·ä¸ªäººé…ç½®æ–‡ä»¶ï¼ˆ~/.ssh/configï¼‰\nHost test.example.com LocalForward client-IP:client-port server-IP:server-port åº”ç”¨ä¸¾ä¾‹ ä¾‹1ï¼š\næœ‰ä¸€å°é˜¿é‡Œäº‘ ECSï¼Œå®‰å…¨ç»„é»˜è®¤åªå…è®¸äº† 22 ç«¯å£çš„è®¿é—®ï¼Œ å¦‚æœä¸Šé¢æœ‰ä¸€ä¸ªè¿è¡Œä¸­çš„æœåŠ¡ç»‘å®šäº† 8080 ç«¯å£ï¼Œæƒ³è¦ä¸´æ—¶è®¿é—®ä¸€ä¸‹è¯¥æœåŠ¡çš„è¯ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿˜å¾—å…ˆ è¿™æ ·å°±æ¯”è¾ƒéº»çƒ¦ï¼Œ\nä¸€ç§åŠæ³•æ˜¯ï¼Œå…ˆé…ç½®å®‰å…¨ç»„ï¼Œç„¶åè¿›è¡Œè®¿é—®ï¼Œä½†è¿™æ ·æ¯”è¾ƒéº»çƒ¦ï¼Œè¿˜å¾—ç™»åå°æ·»åŠ é…ç½®ã€‚\nå¦ä¸€ç§å°±æ˜¯åˆ©ç”¨æœ¬åœ°è½¬å‘ï¼Œéå¸¸æ–¹ä¾¿ï¼Œå¯ä»¥åœ¨æœ¬åœ°æœºå™¨è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š\nssh -L 3000:localhost:8080 ecs-host ä¸Šé¢å‘½ä»¤ä¸­ï¼Œecs-hostä¸º ECS çš„åœ°å€ï¼ˆæ¯”å¦‚ç”¨æˆ·ååŠ å…¬ç½‘ipï¼šroot@xxx.xxx.xxx.xxxï¼‰ï¼Œ è¿™æ ·å°±å¯ä»¥é€šè¿‡è®¿é—®æœ¬åœ°çš„ 3000 ç«¯å£ï¼Œæ¥è¯·æ±‚ ECS ä¸Š 8080 ç«¯å£çš„æœåŠ¡äº†ã€‚\n3. è¿œç¨‹è½¬å‘ è¿œç¨‹è½¬å‘æ˜¯åœ¨è¿œç¨‹ SSH æœåŠ¡å™¨å»ºç«‹çš„è½¬å‘è§„åˆ™ã€‚\nå®ƒè·Ÿæœ¬åœ°è½¬å‘æ­£å¥½åè¿‡æ¥ã€‚å»ºç«‹æœ¬åœ°åˆ°è¿œç¨‹æœåŠ¡å™¨çš„ SSH éš§é“ä»¥åï¼Œ æœ¬åœ°è½¬å‘æ˜¯é€šè¿‡æœ¬åœ°æœåŠ¡å™¨è®¿é—®è¿œç¨‹æœåŠ¡å™¨ï¼Œ è¿œç¨‹è½¬å‘æ˜¯é€šè¿‡è¿œç¨‹æœåŠ¡å™¨è®¿é—®æœ¬åœ°æœåŠ¡å™¨ã€‚ å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š\nssh -R remote-port:target-host:targer-port -N remote-host ä¸Šé¢å‘½ä»¤ä¸­ï¼Œ-Rè¡¨ç¤ºè¿œç¨‹ç«¯å£è½¬å‘ï¼Œremote-portæ˜¯è¿œç¨‹æœåŠ¡å™¨çš„ç«¯å£ï¼Œ target-hostå’Œtarget-portæ˜¯ç›®æ ‡æœåŠ¡å™¨åŠå…¶ç«¯å£ï¼Œ remote-hostæ˜¯è¿œç¨‹æœåŠ¡å™¨ã€‚\nå¦‚æœç»å¸¸ä½¿ç”¨è¿œç¨‹ç«¯å£è½¬å‘ï¼Œå¯ä»¥å°†è®¾ç½®å†™å…¥ SSH å®¢æˆ·ç«¯çš„ç”¨æˆ·ä¸ªäººé…ç½®æ–‡ä»¶ï¼ˆ~/.ssh/configï¼‰\nHost remote-forward HostName test.example.com RemoteForward remote-port target-host:target-port åº”ç”¨ä¸¾ä¾‹ ä¾‹1ï¼š\nå†…ç½‘æŸå°æœåŠ¡å™¨ localhost åœ¨ 80 ç«¯å£å¼€äº†ä¸€ä¸ªæœåŠ¡ï¼Œå¯ä»¥é€šè¿‡è¿œç¨‹è½¬å‘å°†è¿™ä¸ª 80 ç«¯å£ï¼Œ æ˜ å°„åˆ°å…·æœ‰å…¬ç½‘ IP åœ°å€çš„ public.server æœåŠ¡å™¨çš„ 8080 ç«¯å£ï¼Œ ä½¿å¾—è®¿é—® public.server:8080 è¿™ä¸ªåœ°å€ï¼Œå°±å¯ä»¥è®¿é—®åˆ°é‚£å°å†…ç½‘æœåŠ¡å™¨çš„ 80 ç«¯å£ã€‚\nssh -R 8080:localhost:80 -N public.server ä¾‹2ï¼š\næœ¬åœ°æœåŠ¡å™¨ local åœ¨å¤–ç½‘ï¼ŒSSH è·³æ¿æœºå’Œç›®æ ‡æœåŠ¡å™¨ private.server éƒ½åœ¨å†…ç½‘ï¼Œå¿…é¡»é€šè¿‡ SSH è·³æ¿æœºæ‰èƒ½è®¿é—®ç›®æ ‡æœåŠ¡å™¨ã€‚ ä½†æ˜¯æœ¬åœ°æœåŠ¡å™¨ local æ— æ³•è®¿é—®å†…ç½‘ä¸­çš„ SSH è·³æ¿æœºï¼Œè€Œ SSH è·³æ¿æœºå¯ä»¥è®¿é—®æœ¬åœ°æœåŠ¡å™¨ã€‚ ç”±äºæœ¬æœºæ— æ³•è®¿é—®å†…ç½‘ SSH è·³æ¿æœºï¼Œå°±æ— æ³•ä»å¤–ç½‘å‘èµ· SSH éš§é“ï¼Œå»ºç«‹ç«¯å£è½¬å‘ã€‚ å¾—åç€æ¥ï¼Œä» SSH è·³æ¿æœºå‘èµ·éš§é“ï¼Œå»ºç«‹ç«¯å£è½¬å‘ï¼Œè¿™å°±å½¢æˆäº†è¿œç¨‹ç«¯å£è½¬å‘ã€‚ è·³æ¿æœºæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œç»‘å®šæœ¬åœ°æœåŠ¡å™¨ local çš„ 2121 ç«¯å£ï¼Œå»è®¿é—® private.server:80ã€‚\nssh -R 2121:private.server:80 -N local æ˜¾ç„¶ï¼Œè¿œç¨‹è½¬å‘è¦æ±‚æœ¬åœ°è®¡ç®—æœº local ä¹Ÿå®‰è£…äº† SSH æœåŠ¡å™¨ï¼Œè¿™æ ·æ‰èƒ½æ¥å— SSH è·³æ¿æœºçš„è¿œç¨‹ç™»å½•ã€‚\nä¾‹3ï¼š\nå®¶é‡Œæœ‰å°æœåŠ¡å™¨ localï¼Œè¿ç€å®¶é‡Œçš„ wifiï¼Œå…¬å¸æœ‰å°å¤„åœ¨å†…ç½‘ä¸­çš„æœåŠ¡å™¨ private.serverï¼Œ local å’Œ private.server äº’ç›¸éƒ½è®¿é—®ä¸äº†ï¼Œä½†å®ƒä»¬éƒ½èƒ½è®¿é—®å¤–ç½‘ã€‚ è¿™æ—¶æƒ³ç”¨å®¶é‡Œçš„æœåŠ¡å™¨ local è®¿é—® private.server:80ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ\nå¯ä»¥åœ¨å¤–ç½‘æ‰¾ä¸€ä¸ªå®ƒä»¬éƒ½èƒ½è®¿é—®åˆ°çš„æœåŠ¡å™¨ï¼Œæ¯”å¦‚è¿˜æ˜¯é‚£å°é˜¿é‡Œäº‘ ECSï¼ˆè¿™å° ECS ä¸èƒ½è®¿é—® local å’Œ private.serverï¼‰ï¼Œ åœ¨ local ä¸Šå»ºç«‹ local -\u0026gt; ECS çš„æœ¬åœ°è½¬å‘ï¼Œç„¶ååœ¨ private.server ä¸Šå»ºç«‹ private.server -\u0026gt; ECS çš„è¿œç¨‹è½¬å‘ï¼Œ è¿™æ ·åœ¨ local è®¿é—® localhost:80 å°±èƒ½è®¿é—®åˆ° private.server çš„ 80 ç«¯å£äº†ã€‚\nè¿™ä¹Ÿå°±æ˜¯æ‰€è°“çš„å†…ç½‘ç©¿é€ã€‚ä¸è¿‡æ¶‰åŠå…¬å¸è´¢äº§å®‰å…¨ï¼Œå¤§å®¶ä¸è¦è¿™æ · ä½œæ­» å°è¯•ï¼Œå› ä¸ºå¯èƒ½é‡åˆ°ä¸‹è¿°æƒ…å†µï¼š\nä¸€å“¥ä»¬ç©¿é€å†…ç½‘ï¼Œè¢«é»‘å®¢åˆ©ç”¨ï¼Œå¯¼è‡´å†…ç½‘å¤šå°æœºå™¨æ•°æ®ä¸¢å¤±ï¼Œè¢«é»‘å®¢æ•²è¯ˆå‹’ç´¢ã€‚\nç¢°ä¸Šè¿™ç§äº‹æƒ…ï¼Œè¯¥æ€ä¹ˆå“­ï¼Ÿä¹–ä¹–ç”³è¯·å…¬å¸çš„ VPN å®ƒä¸é¦™ä¹ˆï¼Ÿ\nå‚è€ƒæ–‡çŒ® SSHæ•™ç¨‹ - ç½‘é“\n","permalink":"https://theone-daxia.github.io/blog/code/ssh_tunnel/","summary":"ç®€ä»‹ SSH é™¤äº†ç™»é™†æœåŠ¡å™¨ï¼Œè¿˜æœ‰ä¸€å¤§ç”¨é€”ï¼Œå°±æ˜¯ä½œä¸ºåŠ å¯†é€šä¿¡çš„ä¸­ä»‹ï¼Œå……å½“ä¸¤å°æœåŠ¡å™¨ä¹‹é—´çš„åŠ å¯†è·³æ¿ï¼Œä½¿å¾—åŸæœ¬ä¸åŠ å¯†çš„é€šä¿¡å˜æˆåŠ å¯†é€šä¿¡ã€‚ è¿™ä¸ªåŠŸèƒ½æˆä¸ºç«¯å£è½¬å‘ï¼ˆport forwardingï¼‰ï¼Œåˆç§° SSH éš§é“ï¼ˆtunnelï¼‰ã€‚\nç«¯å£è½¬å‘æœ‰ä¸¤ä¸ªä¸»è¦ä½œç”¨ï¼š\nå°†ä¸åŠ å¯†çš„æ•°æ®æ”¾åœ¨ SSH å®‰å…¨è¿æ¥é‡Œä¼ è¾“ï¼Œä½¿åŸæœ¬ä¸å®‰å…¨çš„ç½‘ç»œæœåŠ¡å¢åŠ äº†å®‰å…¨æ€§ï¼Œæ¯”å¦‚é€šè¿‡ç«¯å£è½¬å‘è®¿é—® Telnetã€FTP ç­‰æ˜æ–‡æœåŠ¡ï¼Œæ•°æ®ä¼ è¾“å°±éƒ½ä¼šåŠ å¯†ã€‚ ä½œä¸ºæ•°æ®é€šä¿¡çš„åŠ å¯†è·³æ¿ï¼Œç»•è¿‡ç½‘ç»œé˜²ç«å¢™ã€‚ ä¸‰ç§ä½¿ç”¨æ–¹æ³• ç«¯å£è½¬å‘æœ‰ä¸‰ç§ä½¿ç”¨æ–¹æ³•ï¼šåŠ¨æ€è½¬å‘ã€æœ¬åœ°è½¬å‘ã€è¿œç¨‹è½¬å‘ã€‚\n1. åŠ¨æ€è½¬å‘ åŠ¨æ€è½¬å‘æ˜¯æŒ‡ï¼Œæœ¬æœºä¸ SSH æœåŠ¡å™¨ä¹‹é—´åˆ›å»ºäº†ä¸€ä¸ªåŠ å¯†è¿æ¥ï¼Œæœ¬æœºå†…éƒ¨é’ˆå¯¹æŸä¸ªç«¯å£çš„é€šä¿¡ï¼Œéƒ½é€šè¿‡è¿™ä¸ªåŠ å¯†è¿æ¥è½¬å‘ã€‚\nåŠ¨æ€è½¬å‘å°†ä¸€ä¸ªæœ¬åœ°ç«¯å£ç»‘å®šåˆ°äº† SSH æœåŠ¡å™¨ï¼Œè€Œ ç›®æ ‡åœ°å€:ç›®æ ‡ç«¯å£ æ˜¯ä¸å›ºå®šçš„ï¼Œå®Œå…¨ç”±å‘èµ·çš„è¯·æ±‚å†³å®šï¼Œæ‰€ä»¥å«åŠ¨æ€è½¬å‘ã€‚\nssh -D local-port tunnel-host -N ä¸Šé¢å‘½ä»¤ä¸­ï¼Œ-Dè¡¨ç¤ºåŠ¨æ€è½¬å‘ï¼Œlocal-portæ˜¯æœ¬åœ°ç«¯å£ï¼Œtunnel-hostæ˜¯ SSH æœåŠ¡å™¨ï¼Œ -Nè¡¨ç¤ºè¿™ä¸ª SSH è¿æ¥åªè¿›è¡Œç«¯å£è½¬å‘ï¼Œä¸ç™»å½•è¿œç¨‹ Shellï¼Œä¸èƒ½æ‰§è¡Œè¿œç¨‹å‘½ä»¤ï¼Œåªèƒ½å……å½“éš§é“ã€‚\nå¦‚æœç»å¸¸ä½¿ç”¨åŠ¨æ€è½¬å‘ï¼Œå¯ä»¥å°†è®¾ç½®å†™å…¥ SSH å®¢æˆ·ç«¯çš„ä¸ªäººé…ç½®æ–‡ä»¶ï¼ˆ~/.ssh/configï¼‰\nDynamicForward tunnel-host:local-port åº”ç”¨ä¸¾ä¾‹ ä¾‹1ï¼š\nè¿œç¨‹äº‘ä¸»æœºB1è¿è¡Œäº†å¤šä¸ªæœåŠ¡ï¼Œåˆ†åˆ«ä½¿ç”¨äº†ä¸åŒç«¯å£ï¼Œæœ¬åœ°ä¸»æœºA1éœ€è¦è®¿é—®è¿™äº›æœåŠ¡ã€‚ ä¸€æ–¹é¢ï¼Œç”±äºå®‰å…¨é™åˆ¶ï¼Œæœ¬åœ°ä¸»æœºA1å¹¶ä¸èƒ½ç›´æ¥è®¿é—®è¿œç¨‹äº‘ä¸»æœºB1ä¸Šçš„æœåŠ¡ï¼Œå› æ­¤éœ€è¦è¿›è¡Œç«¯å£è½¬å‘ï¼Œ å¦ä¸€æ–¹é¢ï¼Œä¸ºæ¯ä¸ªç«¯å£åˆ†åˆ«åˆ›å»ºæœ¬åœ°ç«¯å£è½¬å‘éå¸¸éº»çƒ¦ã€‚\nå¯é€šè¿‡åŠ¨æ€ç«¯å£è½¬å‘ï¼Œå°†A1å‘èµ·çš„è¯·æ±‚è½¬å‘åˆ°B1ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š\nssh -D localhost:8080 root@xxx.xxx.xxx.xxx -N æ³¨æ„ï¼Œè¿™ç§è½¬å‘é‡‡ç”¨äº† SOCKS5 åè®®ï¼Œè®¿é—®ç½‘ç«™æ—¶ï¼Œéœ€è¦æŠŠ HTTP è¯·æ±‚è½¬æˆ SOCKS5 åè®®ï¼Œæ‰èƒ½æŠŠæœ¬åœ°ç«¯å£çš„è¯·æ±‚è½¬å‘å‡ºå»ã€‚ ä¸‹é¢æ˜¯ SSH éš§é“å»ºç«‹åçš„ä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹ï¼š\ncurl -x socks5://localhost:8080 https://www.google.com ä¸Šé¢å‘½ä»¤ä¸­ï¼Œcurl çš„-xå‚æ•°æŒ‡å®šä»£ç†æœåŠ¡å™¨ï¼Œå³é€šè¿‡ SOCKS5 åè®®çš„æœ¬åœ° 8080 ç«¯å£ï¼Œè®¿é—®https://www.","title":"SSH ç«¯å£è½¬å‘"},{"content":"ç›®æ ‡ ä½¿ç”¨ GithubPagesã€Hugo åˆ›å»ºä¸ªäººåšå®¢ç½‘ç«™\nåŠŸèƒ½ æ­£å¸¸åšå®¢å†™ä½œ æ–‡ç« æ”¯æŒè¯„è®º ç½‘ç«™æ•°æ®åˆ†æ å‡†å¤‡å·¥ä½œ æ‹¥æœ‰ä¸€ä¸ª github è´¦å· å®‰è£… hugoï¼ˆ Hugoæ–‡æ¡£ ï¼‰ æ­¥éª¤ github åˆ›å»ºä¸¤ä¸ªä»“åº“ ä¸€ä¸ªæºç ä»“åº“ï¼Œè®¾ç½®æƒé™ä¸º Privateï¼ˆç”¨äºå¯¹ç½‘ç«™è¿›è¡Œä»»ä½•æ›´æ”¹æ“ä½œï¼‰ ä¸€ä¸ªåšå®¢ä»“åº“ï¼Œè®¾ç½®æƒé™ä¸º Publicï¼ˆç”¨äºå¯¹å¤–å±•ç¤ºï¼Œé¡¹ç›®åç§°ä¸ºï¼šxxx.github.ioï¼Œxxxä¸ºè´¦æˆ·åç§°ï¼‰ åˆå§‹åŒ–æºç é¡¹ç›® ä½¿ç”¨ hugo ç”Ÿæˆç½‘ç«™ hugo new site quickstart é€‰æ‹©å¹¶æ·»åŠ ä¸€æ¬¾å¿ƒä»ªä¸»é¢˜ï¼ˆ ä¸»é¢˜é€‰æ‹© ï¼‰ # æ­¤å¤„ä»¥ Base16 ä¸»é¢˜ä¸ºä¾‹ cd quickstart/themes git submodule add https://github.com/htdvisser/hugo-base16-theme.git base16 æ·»åŠ åšå®¢å†…å®¹ hugo new blogs/my-first-blog.md ç¼–è¾‘é…ç½®æ–‡ä»¶ config.tomlï¼Œé…ç½®ä¸»é¢˜åŠèœå• # å°†ä¸‹é¢å†…å®¹æ·»åŠ è¿› config.tomlï¼ˆä¸åŒ…æ‹¬æœ¬è¡Œï¼‰ theme = \u0026#34;base16\u0026#34; [menu] [[menu.main]] name = \u0026#34;é¦–é¡µ\u0026#34; url = \u0026#34;/\u0026#34; weight = 1 [[menu.main]] name = \u0026#34;åšå®¢\u0026#34; url = \u0026#34;/blog/\u0026#34; weight = 2 å°† quickstart ç›®å½•é‡Œçš„å†…å®¹ push åˆ°æºç é¡¹ç›®ï¼Œå®Œæˆé¡¹ç›®åˆå§‹åŒ– é…ç½® CI/CD å¯é‡‡ç”¨ hugo -D æ¥ç”Ÿæˆé™æ€é¡µé¢ï¼Œç„¶ååŒæ­¥åˆ°å…¬å¼€çš„åšå®¢ä»“åº“ã€‚ è¿™æ ·åšä¸ä»…éº»çƒ¦ï¼Œä¹Ÿä¸ç¬¦åˆæå®¢ç²¾ç¥ï¼Œæ‰€ä»¥é‡‡ç”¨ GithubActions æ¥è‡ªåŠ¨é›†æˆéƒ¨ç½²ã€‚\né…ç½®æ­¥éª¤ï¼š\næºç é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ·»åŠ  .github/workflows æ–‡ä»¶å¤¹\nåœ¨åˆšåˆ›å»ºçš„æ–‡ä»¶å¤¹ä¸‹åˆ›å»º gh-pages.yml æ–‡ä»¶ï¼ˆæ–‡ä»¶åéšä¾¿å†™ï¼‰ï¼Œå†™å…¥å¦‚ä¸‹ä»£ç \nname: github pages on: push: branches: - main # Set a branch to deploy pull_request: jobs: deploy: runs-on: ubuntu-20.04 steps: - uses: actions/checkout@v2 with: submodules: true # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \u0026#39;latest\u0026#39; # extended: true - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 if: github.ref == \u0026#39;refs/heads/main\u0026#39; with: external_repository: xxx/xxx.github.io\t# å‘å¸ƒåˆ°å“ªä¸ªrepo deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }} publish_dir: ./public\t# æ³¨æ„è¿™é‡ŒæŒ‡çš„æ˜¯è¦å‘å¸ƒå“ªä¸ªæ–‡ä»¶å¤¹çš„å†…å®¹ï¼Œè€Œä¸æ˜¯æŒ‡å‘å¸ƒåˆ°ç›®çš„ä»“åº“çš„ä»€ä¹ˆä½ç½®ï¼Œå› ä¸ºhugoé»˜è®¤ç”Ÿæˆé™æ€ç½‘é¡µåˆ°publicæ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥è¿™é‡Œå‘å¸ƒpublicæ–‡ä»¶å¤¹é‡Œçš„å†…å®¹ publish_branch: main\t# å‘å¸ƒåˆ°å“ªä¸ªbranch æ³¨ï¼š æ­¤å¤„çš„ ACTIONS_DEPLOY_KEY éœ€è¦åœ¨æºç ä»“åº“ä¸­é…ç½®ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹\nç”Ÿæˆä¸€å¯¹æ–°çš„ SSH Key ssh-keygen -t rsa\nå°† Public Key æ·»åŠ åˆ° xxx.github.io ä»“åº“ï¼Œsetting -\u0026gt; Deploy Keysï¼Œå˜é‡åéšä¾¿èµ·ï¼Œå‹¾é€‰ Allow write accessã€‚\nå°† Private Key æ·»åŠ åˆ°æºç ä»“åº“ï¼Œsetting -\u0026gt; Secretsï¼Œå˜é‡åå– ACTIONS_DEPLOY_KEY\nå¦ï¼š Github Actions çš„ä¸‰ç§å®ç°æ–¹æ¡ˆ\ngithub_token\ndeploy_key\npersonal_token\ngithub_token é€‚åˆ æºç  å’Œ public/ å­˜æ”¾åœ¨åŒä¸€ä¸ªä»“åº“ä¸‹çš„ä¸åŒåˆ†æ”¯ï¼ˆæ¯”å¦‚æºç åœ¨ mainï¼Œpublic/ å†…å®¹åœ¨ gh-pagesï¼‰ï¼ŒæŒ‡å®šéƒ¨ç½²åˆ° gh-pages åˆ†æ”¯å³å¯ã€‚\ndeploy_key é€‚åˆ æºç  å’Œ public/ å­˜æ”¾åœ¨ä¸åŒä»“åº“ä¸‹çš„æ¨¡å¼ï¼ˆæ­¤ä¸ºæœ¬æ–‡é€‰æ‹©çš„æ–¹å¼ï¼‰ã€‚\næ·»åŠ é™„åŠ åŠŸèƒ½ æ–‡ç« æ”¯æŒè¯„è®º å¯é€‰æ‹© disqusã€utterancï¼Œç”±äº disqus æ¯”è¾ƒéº»çƒ¦ï¼Œå¾—æ³¨å†Œè´¦å·ï¼Œå¥½åƒè¿˜æ”¶è´¹ï¼Ÿæ‰€ä»¥é€‰æ‹© utterancã€‚\nutteranc æ˜¯ä¸€ä¸ªå…è´¹çš„ GithubAppï¼Œå¯ä»¥åœ¨ Github çš„ Marketplace ä¸­è·å–ï¼Œå…·ä½“æ“ä½œä¸å†èµ˜è¿°ã€‚ ä¸‹è½½åç»‘å®šåˆ°å…¬å¼€çš„åšå®¢ä»“åº“ï¼Œç„¶ååœ¨ layouts/partials/article.html çš„åˆé€‚ä½ç½®æ·»åŠ å¦‚ä¸‹ä»£ç \n{{ if .Site.Params.utteranc.enable }} \u0026lt;script src=\u0026#34;https://utteranc.es/client.js\u0026#34; repo=\u0026#34;{{ .Site.Params.utteranc.repo }}\u0026#34; issue-term=\u0026#34;{{ .Site.Params.utteranc.issueTerm }}\u0026#34; theme=\u0026#34;{{ .Site.Params.utteranc.theme }}\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; async\u0026gt; \u0026lt;/script\u0026gt; {{ end }} åœ¨ config.toml ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®\n[params.utteranc] enable = false repo = \u0026#34;xxx/xxx.github.io\u0026#34; issueTerm = \u0026#34;title\u0026#34; theme = \u0026#34;github-light\u0026#34; ç”±äºæœ€ç»ˆæ˜¾ç¤ºæ•ˆæœä¸ç†æƒ³\nä¸ªäººæ„Ÿè§‰ä¸å¥½çœ‹ï¼Œè·Ÿä¸»é¢˜é£æ ¼ä¸æ­ è¯„è®ºåŒºåŸŸåŠ è½½é€Ÿåº¦æ…¢ï¼Œè¿›å…¥æ–‡ç« å‡ ç§’åæ‰ä¼šå‡ºç° ä¸ªäººä¹Ÿä¸æ‰“ç®—åœ¨åšå®¢æ–‡ç« é‡Œè·Ÿäººäº¤æµ æ•…å°† utteranc.enable ç½®ä¸º falseï¼Œæƒ³å¯ç”¨çš„æ—¶å€™å†è¯´ã€‚\næ·»åŠ è°·æ­Œåˆ†æ è°·æ­Œåˆ†ææ˜¯ç”±Googleæä¾›çš„ä¸ªäººå…è´¹çš„ç½‘ç«™æµé‡ç»Ÿè®¡æœåŠ¡ï¼Œæ”¯æŒæŸ¥çœ‹å®æ—¶æµé‡ï¼Œåˆ†æåŠŸèƒ½å¼ºå¤§ã€‚ç½‘é¡µå’Œç§»åŠ¨ç«¯å‡å¯æŸ¥çœ‹ï¼ˆéœ€è¦æœ‰vpnï¼‰\nä½¿ç”¨æ­¥éª¤ï¼š\nç™»é™†è°·æ­Œåˆ†æï¼ˆ ç™»é™†åœ°å€ ï¼‰ï¼Œåˆ›å»ºè´¦å·åŠåª’ä½“èµ„æº\nåœ¨åˆ›å»ºçš„åª’ä½“èµ„æºé‡Œï¼Œæ·»åŠ æ•°æ®æµï¼ˆé€‰æ‹©ç½‘ç«™ï¼‰\nç½‘ç«™ç½‘å€ï¼šå¡«å†™åšå®¢ä»“åº“åœ°å€ï¼Œå³ xxx.github.io æ•°æ®æµåç§°ï¼šè‡ªå·±å‘½å å¤åˆ¶æ•°æ®æµçš„è¡¡é‡IDï¼ˆG-xxxï¼‰ï¼Œå¹¶å°†å…¶æ·»åŠ è¿›æºç é¡¹ç›®çš„ config.toml ä¸­\ngoogleAnalytics = \u0026#34;G-xxx\u0026#34; å¤åˆ¶ themes/base16/layouts/partials/header.html åˆ° layouts/partials/header.htmlï¼Œç„¶ååœ¨å¤åˆ¶å‡ºæ¥çš„ header.html çš„ head æ ‡ç­¾ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç \n\u0026lt;!-- æ·»åŠ è°·æ­Œåˆ†ææ’ä»¶ Google Analytics --\u0026gt; {{ template \u0026#34;_internal/google_analytics.html\u0026#34; . }} æ³¨ï¼šè¯¥ template ä¸º Hugo é™„å¸¦çš„ä¸€ä¸ªå†…éƒ¨æ¨¡æ¿\nå¦‚æœä¸é‡‡ç”¨å†…éƒ¨æ¨¡æ¿çš„å†™æ³•ï¼Œè¿˜å¯ä»¥å°†åˆ›å»ºæ•°æ®æµæ—¶ï¼Œæç¤ºçš„åˆ†æä»£ç æ·»åŠ è¿› head æ ‡ç­¾ä¸­ï¼Œä¸è¿‡è¿™ç§æ–¹æ³•æ˜æ˜¾æ²¡æœ‰å†…éƒ¨æ¨¡æ¿çš„æ–¹å¼ä¼˜é›…\n\u0026lt;!-- Global site tag (gtag.js) - Google Analytics --\u0026gt; \u0026lt;script async src=\u0026#34;https://www.googletagmanager.com/gtag/js?id=G-xxx\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag(\u0026#39;js\u0026#39;, new Date()); gtag(\u0026#39;config\u0026#39;, \u0026#39;G-xxx\u0026#39;); \u0026lt;/script\u0026gt; æ¨åˆ°æºç é¡¹ç›®å¹¶è‡ªåŠ¨éƒ¨ç½²åï¼Œè®¿é—®åšå®¢ï¼Œå³å¯åœ¨è°·æ­Œåˆ†æçš„å®æ—¶æ•°æ®ä¸­çœ‹åˆ°ç»Ÿè®¡ä¿¡æ¯\næ·»åŠ åœè’œå­ åœè’œå­ æ˜¯ä¸€ä¸ªé™æ€é¡µé¢è®¡æ•°æœåŠ¡ï¼Œå¯æ˜¾ç¤º page_uvã€page_pvã€site_uvã€site_pv ç­‰æ•°æ®ï¼ˆ åœè’œå­æ–‡æ¡£ ï¼‰ã€‚è¿™é‡Œåˆ©ç”¨å®ƒç»™æ–‡ç« åŠ ä¸Š page_uvã€‚\næ­¥éª¤ï¼š\nåœ¨ layouts/partials/header.html çš„ head æ ‡ç­¾ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç \n\u0026lt;script async src=\u0026#34;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; åœ¨ layouts/partials/article.html çš„ Title ä¸‹é¢æ·»åŠ å¦‚ä¸‹ä»£ç \n{{ if .Site.Params.busuanzi.enable }} \u0026lt;div style=\u0026#34;padding: 0 0 1em 0\u0026#34;\u0026gt; \u0026lt;span id=\u0026#34;busuanzi_container_page_pv\u0026#34;\u0026gt; \u0026lt;svg xmlns=\u0026#34;http://www.w3.org/2000/svg\u0026#34; width=\u0026#34;19\u0026#34; height=\u0026#34;14\u0026#34; viewBox=\u0026#34;0 0 20 20\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-eye\u0026#34;\u0026gt;\u0026lt;path d=\u0026#34;M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\u0026#34;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;circle cx=\u0026#34;12\u0026#34; cy=\u0026#34;12\u0026#34; r=\u0026#34;3\u0026#34;\u0026gt;\u0026lt;/circle\u0026gt;\u0026lt;/svg\u0026gt; \u0026lt;span id=\u0026#34;busuanzi_value_page_pv\u0026#34;\u0026gt;\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; {{ end }} æ³¨ï¼šè¿™ä¸ªå°çœ¼ç›çš„ svg æ–‡ä»¶ï¼Œæ˜¯ä» è¿™é‡Œ ä¸‹è½½çš„ï¼Œæ„Ÿè§‰å¾ˆå¥½ç”¨ã€‚\nåœ¨ config.toml ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®\n[params.busuanzi] enable = true æ¨åˆ°æºç é¡¹ç›®å¹¶è‡ªåŠ¨éƒ¨ç½²åï¼Œè®¿é—®åšå®¢ï¼Œå³å¯åœ¨æ–‡ç« çš„æ ‡é¢˜ä¸‹çœ‹åˆ°ç»Ÿè®¡ä¿¡æ¯\n","permalink":"https://theone-daxia.github.io/blog/code/hugo_blog_site_record/","summary":"ç›®æ ‡ ä½¿ç”¨ GithubPagesã€Hugo åˆ›å»ºä¸ªäººåšå®¢ç½‘ç«™\nåŠŸèƒ½ æ­£å¸¸åšå®¢å†™ä½œ æ–‡ç« æ”¯æŒè¯„è®º ç½‘ç«™æ•°æ®åˆ†æ å‡†å¤‡å·¥ä½œ æ‹¥æœ‰ä¸€ä¸ª github è´¦å· å®‰è£… hugoï¼ˆ Hugoæ–‡æ¡£ ï¼‰ æ­¥éª¤ github åˆ›å»ºä¸¤ä¸ªä»“åº“ ä¸€ä¸ªæºç ä»“åº“ï¼Œè®¾ç½®æƒé™ä¸º Privateï¼ˆç”¨äºå¯¹ç½‘ç«™è¿›è¡Œä»»ä½•æ›´æ”¹æ“ä½œï¼‰ ä¸€ä¸ªåšå®¢ä»“åº“ï¼Œè®¾ç½®æƒé™ä¸º Publicï¼ˆç”¨äºå¯¹å¤–å±•ç¤ºï¼Œé¡¹ç›®åç§°ä¸ºï¼šxxx.github.ioï¼Œxxxä¸ºè´¦æˆ·åç§°ï¼‰ åˆå§‹åŒ–æºç é¡¹ç›® ä½¿ç”¨ hugo ç”Ÿæˆç½‘ç«™ hugo new site quickstart é€‰æ‹©å¹¶æ·»åŠ ä¸€æ¬¾å¿ƒä»ªä¸»é¢˜ï¼ˆ ä¸»é¢˜é€‰æ‹© ï¼‰ # æ­¤å¤„ä»¥ Base16 ä¸»é¢˜ä¸ºä¾‹ cd quickstart/themes git submodule add https://github.com/htdvisser/hugo-base16-theme.git base16 æ·»åŠ åšå®¢å†…å®¹ hugo new blogs/my-first-blog.md ç¼–è¾‘é…ç½®æ–‡ä»¶ config.tomlï¼Œé…ç½®ä¸»é¢˜åŠèœå• # å°†ä¸‹é¢å†…å®¹æ·»åŠ è¿› config.tomlï¼ˆä¸åŒ…æ‹¬æœ¬è¡Œï¼‰ theme = \u0026#34;base16\u0026#34; [menu] [[menu.main]] name = \u0026#34;é¦–é¡µ\u0026#34; url = \u0026#34;/\u0026#34; weight = 1 [[menu.main]] name = \u0026#34;åšå®¢\u0026#34; url = \u0026#34;/blog/\u0026#34; weight = 2 å°† quickstart ç›®å½•é‡Œçš„å†…å®¹ push åˆ°æºç é¡¹ç›®ï¼Œå®Œæˆé¡¹ç›®åˆå§‹åŒ– é…ç½® CI/CD å¯é‡‡ç”¨ hugo -D æ¥ç”Ÿæˆé™æ€é¡µé¢ï¼Œç„¶ååŒæ­¥åˆ°å…¬å¼€çš„åšå®¢ä»“åº“ã€‚ è¿™æ ·åšä¸ä»…éº»çƒ¦ï¼Œä¹Ÿä¸ç¬¦åˆæå®¢ç²¾ç¥ï¼Œæ‰€ä»¥é‡‡ç”¨ GithubActions æ¥è‡ªåŠ¨é›†æˆéƒ¨ç½²ã€‚","title":"åˆ©ç”¨Hugoæ­å»ºé™æ€åšå®¢ç½‘ç«™è®°å½•"},{"content":"NRV è®¡ç®— åœ¨è´­ä¹°é¢„åŒ…è£…é£Ÿç‰©æ—¶ï¼Œå¯¹æ˜¯å¦è´­ä¹°ï¼Ÿæ¯å¤©è¯¥åƒå¤šå°‘ï¼Ÿç­‰é—®é¢˜ï¼Œå¯é€šè¿‡ä¸‹é¢çš„è®¡ç®—è¿›è¡Œå¿«é€Ÿå†³ç­– NRV è®¡ç®—åœ°å€\nè¥å…»ç´ å‚è€ƒå€¼ ","permalink":"https://theone-daxia.github.io/blog/health/nrv/","summary":"NRV è®¡ç®— åœ¨è´­ä¹°é¢„åŒ…è£…é£Ÿç‰©æ—¶ï¼Œå¯¹æ˜¯å¦è´­ä¹°ï¼Ÿæ¯å¤©è¯¥åƒå¤šå°‘ï¼Ÿç­‰é—®é¢˜ï¼Œå¯é€šè¿‡ä¸‹é¢çš„è®¡ç®—è¿›è¡Œå¿«é€Ÿå†³ç­– NRV è®¡ç®—åœ°å€\nè¥å…»ç´ å‚è€ƒå€¼ ","title":"è¥å…»ç´ å‚è€ƒå€¼"},{"content":"å¾®ä¿¡è®¢é˜…å· ","permalink":"https://theone-daxia.github.io/follow_me/","summary":"å¾®ä¿¡è®¢é˜…å· ","title":""}]